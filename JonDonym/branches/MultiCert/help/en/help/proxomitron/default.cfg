##
## Proxomitron Config File
##

[Global]
Enable = TRUE
FreezeGIF = FALSE
FilterHTML = TRUE
FilterHeadersOut = TRUE
FilterHeadersIn = TRUE
EnableProxy = TRUE
EnableAutoRun = FALSE
ForceTextures = FALSE
NoTextures = TRUE
SysTray = TRUE
UseSSLeay = TRUE
NoCmdURL = TRUE
CloseLocal = TRUE
PriorityBoost = TRUE
ClientTimeout = 15
AutoRun = "http://local.ptron/.pinfo/"
BypassURL = "(local.ptron/|$LST(Bypass)|$KEYCHK(b))"
UCPrefix = "anon."
Port = 8080
MaxCapURL = 100

[WinSizes]
Win.00 = 432:347:968:703
Win.01 = 432:347:968:703
Win.02 = 382:287:1018:763
Win.03 = 470:425:930:625
Win.04 = 162:162:562:425
Win.08 = 503:320:1001:466

[Blocklists]
List.Bypass = "..\Lists\Bypass List.txt"
List.CookieList = "..\Lists\AllowCookies.txt"
List.Trusted = "..\Lists\JD_Lists\Bypass Lists\Trusted - Sites.txt"
List.--------[Misc_Lists]-------- = "..\Lists\JD_Lists\Misc Lists\separator.txt"
List.ClassIDs = "..\Lists\JD_Lists\Misc Lists\Class IDs.txt"
List.DumbSites = "..\Lists\JD_Lists\Misc Lists\DumbSites.txt"
List.JSProperties = "..\Lists\JD_Lists\Misc Lists\JS - Properties.txt"
List.Jump = "..\Lists\URL Alias List.txt"
List.No-Images = "..\Lists\Kill Images.txt"
List.Support = "..\Lists\JD_Lists\Misc Lists\Site Support.txt"
List.--------[Ad_Lists]-------- = "..\Lists\JD_Lists\Misc Lists\separator.txt"
List.Ad-Keys = "..\Lists\JD_Lists\Ad Lists\Ad - Keys.txt"
List.Ad-List = "..\Lists\JD_Lists\Ad Lists\Ad - List.txt"
List.Ad-Paths = "..\Lists\JD_Lists\Ad Lists\Ad - Paths.txt"
List.Ad-Prefixes = "..\Lists\JD_Lists\Ad Lists\Ad - Host Prefixes.txt"
List.Ad-Domains = "..\Lists\JD_Lists\Ad Lists\Ad - Domains.txt"
List.Ad-User-Paths = "..\Lists\JD_Lists\Ad Lists\User Lists\Ad User - Paths.txt"
List.Ad-User-Prefixes = "..\Lists\JD_Lists\Ad Lists\User Lists\Ad User - Host Prefixes.txt"
List.Ad-User-Domains = "..\Lists\JD_Lists\Ad Lists\User Lists\Ad User - Domains.txt"
List.Ad-Adults = "..\Lists\JD_Lists\Ad Lists\Ad - Adults.txt"
List.Ad-Dimensions = "..\Lists\JD_Lists\Ad Lists\Ad - Dimensions.txt"
List.Ad-Comments = "..\Lists\JD_Lists\Ad Lists\Ad - Comments Begin.txt"
List.Ad-Comment-Pairs = "..\Lists\JD_Lists\Ad Lists\Ad - Comments Pairs.txt"
List.--------[Bypass_Lists]-------- = "..\Lists\JD_Lists\Misc Lists\separator.txt"
List.Bypass-Ads = "..\Lists\JD_Lists\Bypass Lists\Bypass - Ads.txt"
List.Bypass-Con = "..\Lists\JD_Lists\Bypass Lists\bypass - Con.txt"
List.Bypass-Proxy = "..\Lists\JD_Lists\Bypass Lists\Bypass - Proxy.txt"
List.Bypass-SO = "..\Lists\JD_Lists\Bypass Lists\bypass - SuperOpener.txt"
List.Bypass-URLKiller = "..\Lists\JD_Lists\Bypass Lists\Bypass - URL Killer.txt"
List.Bypass-Web = "..\Lists\JD_Lists\Bypass Lists\Bypass - Web Filters.txt"
List.--------[Allow_Lists]-------- = "..\Lists\JD_Lists\Misc Lists\separator.txt"
List.Allow-Code = "..\Lists\JD_Lists\Bypass Lists\Allow - Code.txt"
List.Allow-Flash = "..\Lists\JD_Lists\Bypass Lists\Allow - Flash.txt"
List.Allow-Gifs = "..\Lists\JD_Lists\Bypass Lists\Allow - Animated Gifs.txt"
List.Allow-ActiveX = "..\Lists\JD_Lists\Bypass Lists\Allow - ActiveX.txt"
List.Allow-JS = "..\Lists\JD_Lists\Bypass Lists\Allow - Javascript.txt"
List.Allow-Java = "..\Lists\JD_Lists\Bypass Lists\Allow - Java.txt"
List.Allow-Redirects = "..\Lists\JD_Lists\Bypass Lists\Allow - Redirect.txt"
List.Allow-TextPlain = "..\Lists\JD_Lists\Bypass Lists\Allow - Text Plain.txt"
List.--------[Header_Lists]-------- = "..\Lists\JD_Lists\Misc Lists\separator.txt"
List.CookieDeny = "..\Lists\JD_Lists\Header Lists\Cookie - Deny List.txt"
List.CookieValues = "..\Lists\JD_Lists\Header Lists\Cookie - Values.txt"
List.UseRP = "..\Lists\JD_Lists\Misc Lists\Remote Proxy.txt"
List.MIME-List = "..\Lists\JD_Lists\Header Lists\Header - Mime Types.txt"
List.UserAgents = "..\Lists\JD_Lists\Header Lists\Header - UserAgents.txt"

[HTTP headers]
In = FALSE
Out = FALSE
Key = "Referer: Fake Cross Domain Referers (Out) {2.d}"
URL = "(^(add.to|cmd).)"
Match = "?&(^http(s|)://\h)"
Replace = "\u"

In = FALSE
Out = FALSE
Key = "Set-Cookie:  All Cookies Session Only (in) {4.c2}"
URL = "(^$LST(Trusted)|$LST(CookieList))"
Match = "?&(\#; expires=[^;]+)+\#"
Replace = "\@"

In = FALSE
Out = TRUE
Key = "URL: Opera Quick Server Name Lookup (Out) {1.o}"
URL = "operasearch."
Match = "$URL(http://operasearch.\1/)&($KEYCHK(^C)$SET(0=$JUMP(http://www.\1.net/))|$SET(0=$JUMP(http://www.\1.com/)))"
Replace = "\0"

In = FALSE
Out = FALSE
Key = "URL: Fix Mozilla Keyword Search (Out) {1.m}"
URL = "[^./]+/(^?)&\w[a-z]&$JUMP(http://www.google.com/search?q=\h)"

In = FALSE
Out = TRUE
Key = "URL: Bypass Web Filters (Out) {2.d}"
URL = "($LST(Bypass-Web))"
Replace = "$FILTER(False)"

In = FALSE
Out = FALSE
Key = "URL: Bypass Proxy (Out) {1.p}"
URL = "$LST(Bypass-Proxy)$USEPROXY(0)"

In = FALSE
Out = TRUE
Key = "URL: Always use Remote Proxy Based on URL (Out) {3}"
URL = "$LST(UseRP)"
Replace = "$USEPROXY(true)"

In = FALSE
Out = FALSE
Key = "URL: Allow Animated Gifs (Out) {1}"
URL = "$LST(Allow-Gifs)*.gif"
Replace = "$FILTER(False)"

In = FALSE
Out = FALSE
Key = "URL: Alias Redirector (Out)  {1}"
URL = ".$LST(Jump)"

In = FALSE
Out = TRUE
Key = "URL: Add to BlockFile - Allow Cookies (Out) {1.d}"
Match = "http://add.to.blockfile/CookieList/\1/\2"
Replace = "$ADDLSTBOX(CookieList,Allow Cookies for this site?,$WESC(\1))$JUMP(http://\xload//default.cfg?\2)"

In = FALSE
Out = TRUE
Key = "Accept-Encoding: Allow Webpage Encoding (Out) {1.d} "
Match = "*"
Replace = "gzip, deflate"

In = TRUE
Out = FALSE
Key = "Cache-Control: Always Cache (in) {1.d}"
Match = "*"

In = FALSE
Out = FALSE
Key = "Content-Type: Filter Text/Plain (in) {8.d}"
URL = "^(*(.(txt|jp(e|)g|gif|exe|ico|png|bmp|cfg|ini|ibf|log|diz|nfo|torrent|reg|cct)(^?)|readme)|$LST(Allow-Text_Plain))"
Match = "(text/plain(^  ;))\1"
Replace = "text/plain; PrxOrigType="\1"$FILTER(true)$LOG(WText/Plain Filtering Enabled)"

In = FALSE
Out = FALSE
Key = "Content-Type: Force Text/Plain (in) {3.d}"
URL = "*(.(txt|cfg|log|ini|diz|nfo|pac)(^?)|readme)"
Match = "text/plain"
Replace = "text/html; PrxOriginalType="text/plain" $LOG(WText/Plain filtering enabled)"

In = FALSE
Out = FALSE
Key = "Cookie2: Kill Unwanted Cookies (Out)  {5.c1}"
URL = "(^$LST(Trusted)|$LST(CookieList))"

In = FALSE
Out = TRUE
Key = "Cookie: Kill Unwanted Cookies (Out)  {5.c1}"
URL = "(^$LST(Trusted)|$LST(CookieList))"

In = TRUE
Out = FALSE
Key = "ETag: Always Cache (in) {1.d}"
Match = "*"

In = TRUE
Out = FALSE
Key = "Expires: Always Cache (in) {1.d}"
Match = "*"

In = TRUE
Out = FALSE
Key = "Location: Yahoo Groups Relocator (in) {0.sp}"
URL = "groups.yahoo.com/group/[^/]+/interrupt"
Match = "http://groups.yahoo.com/group/[^/]+/interrupt*done=\1"
Replace = "http://groups.yahoo.com$UESC(\1)"

In = TRUE
Out = FALSE
Key = "Pragma: Always Cache (in) {1.d}"
Match = "no-cache"

In = FALSE
Out = TRUE
Key = "Referer: Fake All Referrer Info - URL (Out) {7}"
Match = "*"
Replace = "\u"

In = FALSE
Out = FALSE
Key = "Set-Cookie2:  Never Accept Unwanted Cookies (in) {5.c1}"
URL = "(^$LST(Trusted)|$LST(CookieList))"

In = FALSE
Out = FALSE
Key = "Set-Cookie:  Block Selected Cookies (in) {4.d.c3}"
URL = "$LST(CookieDeny) & $LOG(WCookie Blocked: - \u )"

In = TRUE
Out = FALSE
Key = "Set-Cookie:  Block Web Bug Tracking  (in) {6.d.c3}"
Match = "\0$IHDR(Content-Type:(image/*|application/*|text/css|*script*)) & $LOG(WBugged Cookie Blocked from \u: \0)"

In = FALSE
Out = FALSE
Key = "Set-Cookie:  Filter Cookies (in) {4.d.c3}"
Match = "?&(\#([^;]++$LST(CookieValues)[^;]+)\2$SET(cookie=[ \2 ] $GET(cookie))$LOG(WCookie Filtered: $GET(cookie) - \u )(;|))+\#"
Replace = "\@"

In = TRUE
Out = FALSE
Key = "Set-Cookie:  Never Accept Unwanted Cookies (in) {5.c1}"
URL = "(^$LST(Trusted)|$LST(CookieList))"

In = FALSE
Out = FALSE
Key = "URL-Killer: Disable Script URL Exploits (Out) {3.ex.ie}"
URL = "*<(script|object|applet)*"
Replace = "Script killed\k"

In = FALSE
Out = FALSE
Key = "URL-Killer: Kill Ad URLs - Domains (Out) {3}"
URL = "(^$LST(Bypass-URLKiller))(($LST(Ad-Prefixes))\9.$SET(8=List='Ad Prefixes' \& Match='\9')|([^/]++.|)($LST(Ad-Domains))\9([./]|(^?))$SET(8=List='Ad Domains' \& Match='\9')) & $LOG(WConnection Killed: \8)"
Replace = "\k\u"

In = FALSE
Out = FALSE
Key = "URL-Killer: Kill Ad URLs - Paths (Out) {8.a}"
URL = "(^$LST(Bypass-URLKiller))(*[^a-z0-9]($LST(Ad-Paths))\9([^a-z0-9]|(^?))$SET(8=List='Ad Paths' \& Match='\9'))* & $LOG(WConnection Killed: \8)"
Replace = "\k\u"

In = FALSE
Out = TRUE
Key = "URL: Onion Slicer {0.sp}"
URL = "www.theonion.com/predirect.html"
Replace = "$JUMP(http://www.theonion.com/redirect.php)"

In = TRUE
Out = FALSE
Key = "Content-Type: Fix MIME Types (in) {R}"
URL = "$RESP(200*)"
Match = "((text/[^;]+((; charset*)\1|))\2|(^image/(gif|x-icon)|application/x-(javascript|shockwave-flash))(?*)\2$SET(3=$TST(log=[12])$ADDLST(LogRare,HDR_In CT_FixedTo_\0\1 \t\2 \t\u))|(^?)$SET(2=No Content-Type))&$SET(path=\p)$TST(path=([^/]+/)+*.$LST(MIME-List)(^?))$SET(path=)"
Replace = "\0\1; PrxFixedType=\2\3"

In = FALSE
Out = TRUE
Key = "User-Agent: Fake IE on Selected Sites (Out) {1.d}"
URL = "$LST(DumbSites)"
Match = "*"
Replace = "Mozilla/4.0 (compatible; MSIE 6.0; Windows 98)"

In = FALSE
Out = TRUE
Key = "User-Agent: Hide Extra Details (Out) {5.d}"
URL = "(^$LST(DumbSites))"
Match = "$LST(UserAgents)"
Replace = "\0"

In = TRUE
Out = FALSE
Key = "Vary: Always Cache (in) {1.d}"
Match = "*"


[Patterns]
Name = ">>>>>>>>>>>>>>>>>>>>>>> JDList: Version 10.24.03"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "Version Format"
        "------------------"
        ""
        "<month>.<day>.<year>"

Name = "============================= CONFIG INFO"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Tips:  [READ]"
Active = FALSE
Bounds = "Last updated [10.20.03]"
Limit = 256
Match = "- For sites you trust, add them to "Trusted.txt". Doing so,"
        "  is the same as adding the URL to the following lists."
        ""
        "	Allow - Animated Gifs.txt"
        "	Allow - Javascript.txt"
        "	Bypass - Ads.txt"
        "	AllowCookies.txt"
        "	Allow - Redirect.txt"
        "	Bypass - Proxy.txt"
        "	Bypass - Con.txt"
        ""
        "- If a filter is causing problems on a site, you can add it "
        "  to that filters "bypass" or "allow"  list."
        "    "
        "- If your favorite page won't load anymore, check "
        "  "Ad - Domains.txt".    (from sidki3003)"
        ""
        "- If you type ".a", ".p",".c2" , etc  into the find box, you "
        "  can enable/disable extra filters quickly.       "
        ""
        "- For even more aggressive ad filtering. Enable"
        "  the Ad - Adults list. (In Ad - Domains.txt)"
        ""
        "- To view Anti-AdBuster sites add.. - Update: They seem "
        "  to have changed some things, so this won't work anymore."
        ""
        "  */antiadbuster*"
        "  */adbust*"
        ""
        "  To your bypass list &"
        "      OPTION #1: Enable the session only cookie filters. (.c2)"
        "      (NOTE: disable the cookie killing filters) "
        ""
        "      OPTION #2: Add the sites to your allow cookies list.    "
Replace = "If you have any tips, e-mail me at JD5000@toughguy.net"

Name = "Ranks Legend:  [READ]"
Active = FALSE
Bounds = "Last updated [10.20.03]"
Limit = 256
Match = " Rank  | Error Probability"
        "----------------------------"
        "1 - 3  = Low"
        "4 - 6  = Moderate"
        "7 - 8  = High"
        "9 - 10 = Severe"
Replace = "Letter Legend"
          ""
          "** {R} = REQUIRED!! - Filter must be enabled for config to work as intended. **"
          ""
          ".c = cookie filters."
          ".d = default filters."
          ".p = for use when using proxies."
          ".a = add-on filters. - I enable these when I feel I need stronger filtering."
          ".e = extreme filters. - I don't recommend using them on a daily basis."
          ".in = injected filters."
          ".js = Filters external JS"
          ""
          "Special Letters"
          ""
          ".c1 = kill all cookies, unless they're in the allow cookies list"
          ".c2 = make all cookies session only, unless they're in the allow cookies list"
          ".c3 = filter cookies (can be used with .c1 or .c2 filters) "
          ".ex = exploit/malacious code filters"
          ".ie = internet explorer filters"
          ".m = mozilla filters"
          ".o = opera filters"

Name = "Key Check Codes:  [READ]"
Active = FALSE
URL = "Key checks will not work with Proxomitron v4.3 or earlier."
Bounds = "Last updated [2003.03.04]"
Limit = 256
Match = "Key | Function"
        "--------------------"
        "S   =  Disables CSS filters (Allows saving of web pages in IE)"
        "ALT =  Disables URL-Killer"
        "W   =  Disables all Web Filters"
        "J   =  Disables all Javascript Filters"
        "X   =  Disables most Ad Filters"
        "I   =  Triggers "Image links to Inline Images" (Filter must be enabled)"
        "T   =  Triggers "AltaVista Language Translator" (Filter must be enabled)"
        "U   =  Disables the Popup-Killer"
        "C   =  Disables all Cookie Filters (Excluding "Disable Web Bug Tracking")"
        "B   =  Bypass Proxomitron"
        ""
        ""
        "Scroll Lock = Disable any filters that check "Trusted.txt"."
Replace = "What the heck is a key check? Read on.."
          ""
          "From the Proxomitron help files -------->>"
          ""
          "The KEYCHK command can be used to test for user keypress "
          "combinations during a filter test (for example, to have a "
          "filter bypass itself or act differently if the user is pressing "
          "a specific key). It works like any matching test and can be "
          "used in a filter's match or a URL match. When the match is done "
          "KEYCHK will return as "matched" if the keys being tested for are "
          "currently pressed. Most keys can be tested by using their *unshifted* "
          "values. However, there's several special key tests which begin with "
          "a carat "^" symbol...."
          ""
          "^C = CONTROL"
          "^A = ALT"
          "^S = SHIFT"
          "^T = TAB"
          "^F1 = Function key #1"
          "^F2 = Function key #2"
          "^32 = Virtual keycode 32 (spacebar)"
          "^65 = Virtual keycode 65 ("A")"
          ""
          "Characters are not case sensitive so either "^c" or "^C" may be used. "
          "Multiple keys can be included to test for combinations. For example... "
          ""
          "$KEYCHK(^A^S) = ALT+SHIFT"
          ""
          "$KEYCHK(^C^F6) = CONTROL+F6"
          "$KEYCHK(^AG) = ALT+G"
          "$KEYCHK(^C^A^S) = CONTROL+ALT+SHIFT"
          ""
          "This will work for any combination the keyboard allows. Other special "
          "keys can also be tested if you know the Windows virtual keycode -"
          "this is a number between 0-255. For instance ^2 tests for the right mouse button."

Name = "============================= MARK HTML"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Mark:  Page Start {R}"
Active = TRUE
Multi = TRUE
URL = "$TYPE(htm)$SET(html=0)"
Limit = 128
Match = "("
        "(<head*>(\r|)(\n|))\2"
        "|"
        "("
        "("
        "(<html*>(\r|)(\n|))\1|(<body*>)\4"
        ")"
        "&(^*<head*>)$SET(2=<head>\r\n)$SET(3=</head>\r\n)"
        ")"
        ")"
        "&(^$TST(script=*)|$TST(nohtml=1)|$TST(function=1))"
Replace = "\1\2\r\n\r\n"
          ""
          "<!--// Start Injected Proxomitron Filters -->\r\n"
          "\r\n"
          "\t<!-- Saved From: \u @ $DTM(h:m:s) -->\r\n"
          "\r\n<ProxHdrTop>"
          ""
          "$SET(html=1)"
          "$SET(ProxScript=1)"
          "$GET(prejs)$SET(prejs=)\r\n\r\n"
          "\3\4$STOP()"

Name = "Mark:  Page End {R}"
Active = TRUE
Multi = TRUE
URL = "$TYPE(htm)"
Limit = 2
Match = "(^?)"
        "&$SET(2=</proxbody>\r\n)"
        "&$SET(3=</proxhtml>)"
        "&$SET(4=\r\n\n"
        "<!--// Below Injected by Proxomitron -->\r\n"
        "\n<ProxBottom>\r\n$SET(ProxScript=1))"
        "&("
        "$TST(btest=1)$TST(htest=1)$SET(1=\4\2\3)"
        "|$TST(btest=1)$SET(1=\4\2)"
        "|$TST(htest=1)$SET(1=\4\3)"
        ")"
Replace = "\1$STOP()"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Correct:  Invalid Body and HTML {R}"
Active = TRUE
Multi = TRUE
URL = "$TYPE(htm)"
Limit = 256
Match = "("
        "<(html[^>]++)\2>($TST(htest=1)|$SET(1=<\2>)$SET(htest=1))"
        "|"
        "<(body[^>]++)\2>($TST(btest=1)|$SET(1=<\2>)$SET(btest=1))"
        "|"
        "<(/(body|html) )\2>"
        "|"
        "</prox(body|html)\2>$SET(1=</\2>)"
        ")&(^$TST(script=*))"
Replace = "\1"

Name = "============================= TRACKING  - [READ]"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"
Replace = "NOTE: Block web-bugs does not "
          "really kill all web-bugs. Since a "
          "web-bug can be anything..."

Name = "Block:  Webbugs {3.d.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js))(^$LST(Bypass-Ads))"
Bounds = "<img\s*>"
Limit = 800
Match = "(*(width=$AVQ((\\"|"|)[#0:6](\\"|"|)))\1)"
        "&(*(height=$AVQ((\\"|"|)[#0:6](\\"|"|)))\2)"
        "&"
        "*src=(\\"|"|)\0"
        "("
        "\w(.gif|jpg)$SET(4=<img src=\0http://Local.ptron/clear.gif\0 \1 \2 border=\00\0 alt=\0\0 >)"
        "|"
        "([^"'\\]+)\3$SET(4=<span class=\0Prox\0 style=\0display:none\0 ><a href=\0\3\0 ><img alt=\0Webbug\0 src=\0http://Local.ptron/JD_HTML/bug.gif\0 width=\018\0 height=\018\0 border=\00\0 ></a></span>)"
        ")"
        "("
        "(\\"|"|\s|>)"
        ")*"
Replace = "\4"

Name = "---------------- AVOID MULTI URL's"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Convert:  BASE16 to ASCII v.2.2 {7.d}"
Active = FALSE
Multi = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Con))"
Bounds = "<a\s[^>]++href=*>"
Limit = 768
Match = "(*%??*)\1&(^*%(3C|20|22|27|26|5B|5D)*)"
Replace = "$UESC(\1)"

Name = "Convert:  Tracking Links to Normal Links {8.d.js}"
Active = FALSE
Multi = TRUE
URL = "($TYPE(htm)|$TYPE(js))(^$LST(Allow-Redirects))"
Bounds = "<a\s(^id=p-)[^>]++href=(\\"|"|)\0*<(/a>|(^(^a\s)))"
Limit = 768
Match = "<a\s \2href=(^\\&)"
        "("
        ""
        "$AVQ("
        "((^($TST(\0)|)javascript:)($TST(\0)|))"
        "("
        "(????????*)\9[^a-z0-9.]"
        ""
        "("
        "((http|ftp)(s|)://)\4"
        "|URL=(^/|')"
        "("
        "(^(^'\+))"
        "|(^http:)$SET(4=http://)"
        ")"
        ""
        "|(^(^www.))$SET(4=http://)"
        ")"
        ")+{1,*}(\1(["']|)(\&(amp;|)|\||\*|\*\*)(link|(b|)p|source|lop|origin|no|datasource|qry)=*|([^\||\*|'|"]+)\1)*"
        ""
        ")"
        ""
        ")\6"
        "\3>\5</a>"
Replace = "<span class=\0Prox\0 style=\0display:none\0>"
          "<a id=p-x href=\6 title=\6>"
          "<img id=p-x alt=Tracker! src=http://local.ptron/JD_HTML/direct.gif width=16 height=14 border=0 align=center>"
          "</a>"
          "</span>"
          ""
          "<a id=\0p-fixed\0 title=\0Disabled_URL:_\9\4\1\0 \2 href=\0\4\1\0 \3>\5</a>"

Name = "---------------- TRACKERS"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Block:  Javascript Trackers {8}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Allow-JS)|$LST(Bypass-Ads)|$LST(Allow-Code))"
Bounds = "<script\s*>"
Limit = 768
Match = "*src=$AV((^*.(js|vbs|php|pl)(^?))\0)*"
Replace = "<span class=Prox id='p-track' style='display:none' title='\0'>"
          "<center>"
          "<a id='p-track' href='\0'>\&bull; Script Tracker</a>"
          "</center>"
          "</span>\n"
          ""
          "<script language='ShonenScript 712.0' type='Shonen/Script'>"
          "$SET(script=)"

Name = "Block:  Iframe Trackers {6.d}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Ads)|$LST(Allow-Code)|$LST(Support))"
Bounds = "<iframe*>(*</iframe>|)"
Limit = 1356
Match = "*<i(mg|nput)[^>]++src=$AV((^(*.(gif|png|jpg|jpeg|jpe|bmp|xbm|ico)))\1)$SET(5=Tracker)*"
        "|"
        "([^>]++src=$AV(\1)&*\swidth=$AV([#0:6])&*\sheight=$AV([#0:6])$SET(5=Webbug)*)"
Replace = "<span class=Prox id='p-track' style='display:none' title='\1'>"
          "<center>"
          "<a id='p-track' href='\1' target=_blank >\&bull; Iframe \5</a>"
          "</center>"
          "</span>\r\n"

Name = "Block:  Image Trackers {8.d.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js))(^$LST(Bypass-Ads))"
Bounds = "<a\s[^>]++href=(\\"|"|)\0*(</a >|>(^(^ <(a\s|/td|/center))))"
Limit = 1536
Match = "*<i(mg|nput)\s[^>]++src=$TST(\0)$AV(((^(*/|)online|*.(gif|png|jpg|jpeg|jpe|bmp|xbm|ico)(^?))*\?*)\2)*"
        "&<a\s[^>]++href=$TST(\0)$AV(\1)"
Replace = "<span id=\0p-track\0 class=Prox style=\0display:none\0>"
          "<center>"
          "<a id=\0p-track\0 href=\0\1 >Image Tracker: </a>"
          "<a id=\0p-track\0 href=\0\2 >Image</a>"
          "</center>"
          "</span>"

Name = "---------------- FRAMES"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Jump:  Out of Invisible Frames {7.d}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Trusted))"
Bounds = "<frameset*</frameset >"
Limit = 512
Match = "[^>]++(cols|rows)="
        "("
        "($AV( (\*|100%) , (\*|0|1(%|)) )*&*<frame\s*src=$AV((http(s|)*)\1))"
        "|"
        "("
        "$AV( (\*|0|1(%|)) , (\*|100%) )*"
        "&*<frame\s*src(*<frame\s*src=$AV((http(s|)*)\1)|=$AV((http(s|)*)\1)(^<frame\s*src))"
        ")"
        ")"
        "&(^$TST(script=*))"
Replace = "<script type="text/javascript">document.location="\1";</script>$STOP()"

Name = "---------------- OFF-SITE CONTENT"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Block:  Off-Site Javascript {8}"
Active = FALSE
URL = "$TYPE(htm)(^$LST(Allow-JS)|$LST(Bypass-Ads)|$LST(Allow-Code))"
Bounds = "<script\s*>"
Limit = 768
Match = "*src=$AV((http://(^\h)"
        "(*.(js|vbs|php)\3(^?)$SET(2=Offsite \3 Blocked)"
        "|*$SET(2=Offsite Tracker)))\0)*&(^$TST(ProxScript=1))"
Replace = "<span class=Prox id='p-track' style='display:none'>"
          "<center>"
          "<a id='p-track' title='\0' href="\0">\&bull; \2</a>"
          "</center>"
          "</span>\n"
          ""
          "<script language='ShonenScript 712.0' type='Shonen/Script' >"
          "$SET(script=)"

Name = "Block:  Off-Site Images - Linked {8.e.js}"
Active = FALSE
URL = "($TYPE(htm)|$TYPE(js))(^$LST(Bypass-Ads))"
Bounds = "<a\s(^id="p-x)*</a>"
Limit = 800
Match = "<a[^>]++\shref=$AV(\1)*>"
        "<i(mg|nput)[^>]++\ssrc=$AV((http://(^\h|local.ptron)*)\4)*"
Replace = "<a href='\4' class=Proxlink id='p-link' >[Offsite Image Link:</a>"
          "<a href='\1' class=Proxlink id='p-link' > link]</a>"

Name = "Block:  Off-Site Images - Not Linked {8.e.js}"
Active = FALSE
URL = "($TYPE(htm)|$TYPE(js))(^$LST(Bypass-Ads))"
Bounds = "<img\s*>|<input\s*>"
Limit = 800
Match = "*src=$AV((^http://(\h|local.ptron)*)(http://*)\1)*"
        "&"
        "*src=((*width=$AV(\6)&*height=$AV(\7))$SET(5=: \6x\7)|)"
Replace = "<a href='\1' target='_blank' class=Proxlink id='p-link' >[Off Site Image\5]</a>"

Name = "============================= MALICIOUS CODE"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable:  Spyware ClassIDs - HTML {4.d.ex} "
Active = TRUE
URL = "($TYPE(htm)|$TYPE(oth))(^$LST(Trusted))"
Bounds = "<object*(</object>|>)|$NEST(<script,</script>)|<xml\s*</xml>"
Limit = 12000
Match = "*(clsid(\("\{|:)|ClassID="\{)$LST(ClassIDs)*"
Replace = "<span class=Prox id="p-exploit" style="display:inline">"
          "<center>"
          "Possible Spyware Killed: \9"
          "</center>"
          "</span>"
          "$SET(script=)"

Name = "Disable:  Spyware ClassIDs - External JS Files {4.d.ex.js}"
Active = TRUE
URL = "($TYPE(js)|$TYPE(vbs)|$TYPE(oth))(^$LST(Trusted))"
Limit = 64
Match = "(clsid(\("\{|:)|ClassID="\{)$LST(ClassIDs)"
Replace = "\r\nTHIS SCRIPT HAS BEEN KILLED BY SPYWARE CLASSID FILTER (\9).\k"
          "$LOG(WMatch: JS Killed by ClassID Filter (\9))$ALERT(Possible Spyware Killed by Proxomitron - \9 - \u)"

Name = "---------------- NUKE EVIL JS TRICKS"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "JS Nuker:  HTML {8.d}"
Active = FALSE
URL = "$TYPE(htm)(^$LST(Bypass-Ads)|$LST(Allow-JS)|$LST(Allow-Code))"
Bounds = "$NEST(<script,</script>)"
Limit = 8000
Match = "*.write(ln|)\([^;]++{1,5}([a-z0-9\-\s/]+")\# (\r\n|) \+ (\r\n|) "
        "("[a-z0-9 "'+!\-]+)\# $SET(1=: \#+\# :)*"
Replace = "<span class=Prox id="p-js" style="display:none">"
          "<center>"
          "\&bull; JS Nuked: \1"
          "</center>"
          "</span>"
          "$SET(script=)"

Name = "JS Nuker:  External JS Files v.2 {10.a.js}"
Active = FALSE
URL = "($TYPE(js)|$TYPE(oth))(^$LST(Bypass-Ads)|$LST(Allow-JS)|$LST(Allow-Code))"
Limit = 64
Match = ".write(ln|)\([^;]++{1,5}([a-z0-9\-\s/]+")\# (\r\n|) \+ (\r\n|) ("[a-z0-9 "'+!\-]+)\# $SET(1=: \#+\# :) & $LOG(RMatch: EXTERNAL JS NUKED (\1) - \u)"
Replace = "\r\nTHIS SCRIPT HAS BEEN KILLED BY JS NUKER (\1).\k"

Name = "============================= SUPPORT-A-SITE [READ]"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"
Replace = "Use these filters on sites you wish to support,"
          "by viewing thier basic banner ads."

Name = "Insert:  Option to Hide Ads {2}"
Active = FALSE
URL = "$LST(Support)&$TYPE(htm)"
Bounds = "<a\s*</a>|<iframe*</iframe>|<noscript*</noscript>|<noembed*</noembed>"
Limit = 768
Match = "*<img*src=($AV(($LST(Ad-Keys)*)\1)*"
        "|($AV(http://(^\h)*)&*width=[#41:*]&*(^(^width=|height=))$LST(Ad-Dimensions)*))"
        "&(*href=$AV(\4)*)"
Replace = "<span class="ProxAd" style="display:inline">"
          "<a href="\4"><img src="\1" alt="" border=0></a>"
          "<a style="position: relative !important;top: -2px !important;left: -19px !important;" href="javascript:ProxToggle('ProxAd','cl','yes')" ><img src="http://local.ptron/JD_HTML/close.jpeg" alt="Hide all Ads" border=0 width=16 height=14 ></a>"
          "</span>"

Name = "Fake:  Ad Clicks - Random {6.d}"
Active = FALSE
URL = "$LST(Support)&$TYPE(htm)"
Bounds = "<a\s*</a>|<iframe*</iframe>|$NEST(<noscript,</noscript>)"
Limit = 768
Match = "*(src|href)=($AV($LST(Ad-Keys)*)*"
        "|($AV(http://(^\h)*)&*width=[#41:*]&*(^(^width=|height=))$LST(Ad-Dimensions)*))"
        "&(*href=$AV(\1)*)"
        "("
        "&"
        "$SET(time=$DTM(st))"
        "$TST(time=[0369][0-9][28][0-9][0-9])"
        "$SET(6=<img src="\1" height=0 width=0 alt="" border=0>[Ad Click Faked])"
        "$SET(7=display:inline)"
        "$SET(time=)"
        "$STOP()"
        "|"
        "$SET(6=[ad removed])"
        "$SET(7=display:none)"
        ")"
Replace = "<span class="Prox" style="\7; text-align: center !important;">"
          "<a href="\1">"
          "\6"
          "</a>"
          "</span>\r\n"

Name = "============================= AD BLOCKING"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Remove:  Ad Comments {7.d}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Ads)|$LST(Support))"
Limit = 14000
Match = "<!--( (begin|start) $LST(Ad-Comments)$SET(3=Ad-Comments)"
        "|[^>]++{0,8}$LST(Ad-Comment-Pairs)$SET(3=Ad-Comment-Pairs))"
        "&(^$TST(css=*)|$TST(script=*))"
Replace = "<span class=Prox id="p-comment" style="display:none; text-align: center !important;">"
          "\&bull; Ad Comment: List="\3" & Match="\2\1" <br />"
          "</span>"

Name = "Remove:  Ad Tables {8.d}"
Active = FALSE
URL = "$TYPE(htm)$SET(host=\h)(^$LST(Bypass-Ads)|$LST(Support)|login.yahoo.com/|www.msnbc.com/|www.webattack.com/|www.tomshardware.com/)"
Bounds = "<table(*</table>&&(^*<table)*)"
Limit = 1536
Match = "*<(i(frame|mg)|script)\2[^>]++src=$AV($LST(Ad-Keys)*)"
        "&(^*(<a[^>]++href|<img[^>]++src)=$AV(http://$TST(host)*|(^http://)*))*"
        "&(^TST(script=*))"
Replace = "<span class=Prox id="p-table" style="display:none" >"
          "<center>"
          "\&bull; Ad Table: tag="\2", \8"
          "</center>"
          "</span>"
          "\r\n"

Name = "Remove:  Ad Containers {6.d}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Ads))"
Bounds = "<(iframe*>(*</iframe>|)|ilayer*</ilayer>|applet*</applet>|object*>(*</object>|)|embed*>(*</embed>|))"
Limit = 2048
Match = "(<(i(frame|layer))\4[^>]++src=$AV(\1)"
        "|<(object|applet)\4([^>]++src=$AV(\1)|)"
        "|*<(embed)\4[^>]++src=$AV(\1))*"
        "&"
        "((*>&&*width=[#41:*]*&&*\s(^(^width=|height=))$LST(Ad-Dimensions)*)*"
        "|*src=$AV($LST(Ad-Keys)*)*)"
Replace = "<span class=Prox id="p-con" style="display:none">"
          "<center>"
          "<a id="p-con" href='\1' target="_top">\&bull; \4 Ad: \8</a>"
          "</center>"
          "</span>"
          "\r\n"

Name = "Remove:  Ad Forms {8.d}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Ads))"
Bounds = "$NEST(<form,</form>)"
Limit = 8000
Match = "<form\s[^>]++action=$AV($LST(Ad-Keys)*)[^>]+>"
        "   ($NEST(<table(\s[^>]+|)>,</table>)"
        "   |$NEST(<tbody(\s[^>]+|)>,</tbody>)"
        "   |$NEST(<tfoot(\s[^>]+|)>,</tfoot>)"
        "   |$NEST(<thead(\s[^>]+|)>,</thead>)"
        "   |$NEST(<td(\s[^>]+|)>,</td>)"
        "   |$NEST(<tr(\s[^>]+|)>,</tr>)"
        "   |$NEST(<th(\s[^>]+|)>,</th>)"
        "   |$NEST(<div(\s[^>]+|)>,</div>)"
        "   |$NEST(<script(\s[^>]+|)>,</script>)"
        "   |$NEST(<noscript(\s[^>]+|)>,</noscript>)"
        "   |(<(/|)(table|td|th|tr|tbody|thead|tfoot|div|(no|)script)(\s[^>]+|)>)\#"
        "   |(?&(^<(/|)(table|td|th|tr|tbody|thead|tfoot|div|(no|)script)))+"
        "   )+"
        "   "
Replace = "\@"
          "<span class=Prox id="p-form" style="display:none">"
          "<center>"
          "<a id="p-form" href='\1' target="_top">\&bull; Ad Form: \8</a>"
          "</center>"
          "</span>"
          "\r\n"

Name = "Remove:  Ad Images {6.d}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Ads))"
Bounds = "<i(mg|nput)\4\s(^id=p-x)*>"
Limit = 512
Match = "(*src=($AV(($LST(Ad-Keys)*)\1)*"
        "|($AV((http(s|)://(^\h)*)\1)&*width=[#41:*]&*\s(^(^width=|height=))$LST(Ad-Dimensions)*)))"
Replace = "<span class=Prox id='p-banner' style='display:none'>"
          "<center>"
          "\&bull; Ad i\4: \8"
          "</center>"
          "</span>"

Name = "Remove:  Ad Banners {5.d}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Ads))"
Bounds = "<a\s(^id=p-x)*(</a >|>(^(^ <(a\s|/td|/center))))"
Limit = 768
Match = "*<i(mg|nput)\s[^>]++src=$AV((^http://local.ptron)\4)"
        "&[^>]++href="
        "($AV((http://$LST(Ad-List)*)\3)$SET(1=Link)*"
        "|($AV((http(s|)://(^\h)*)\3)*(<i(mg|nput)\s*width=[#41:*]*>&&*\s(^(^width=|height=))$LST(Ad-Dimensions)*&&*src=$AV(\4)*))$SET(1=Size)*"
        "|$AV(\3)*src=$AV($LST(Ad-Keys)*)$SET(1=Banner)*)</a>"
Replace = "<span class=Prox id='p-bannerlink' style='display:none'>"
          "<center>"
          "<a href='\3' title="\4" id='p-bannerlink' >\&bull; Ad \1</a>"
          "<a href='\4' title="\3" id='p-bannerlink' > \8</a>"
          "</center>"
          "</span>"
          "\r\n"

Name = "Remove:  Ad Scripts {7.d}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Allow-JS)|$LST(Bypass-Ads)|$LST(Allow-Code))"
Bounds = "$NEST(<script,</script>)( <noscript*</noscript >|)"
Limit = 3096
Match = "(*=$AVQ((\\"|"|)([a-z/.]&$LST(Ad-Keys)*)(\\"|"|))*"
        "|*(http://|://)$LST(Ad-List)*"
        "|*<(iframe)\8*"
        "|*["'][/]($LST(Ad-Paths))\8([./\-_?&:=]|(^?))*)"
        "&(^$TST(script=*))"
Replace = "<span class="Prox" id="p-js" style="display:none">"
          "<center>"
          "\&bull; Ad Script: \8"
          "</center>"
          "</span>"
          "\r\n$SET(script=)"

Name = "Remove:  Ad Functions in JS {7.d.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(vbs)|$TYPE(oth))(^$LST(Allow-JS)|$LST(Bypass-Ads))"
Bounds = "$NEST({,})|$NEST(\(,\))"
Limit = 1500
Match = "(\{$SET(1=\})|\($SET(1=\)))\0"
        "("
        "*=(\[|\(|\\|)(^[^a-z/])$AV($LST(Ad-Keys)*)*"
        "|*://$LST(Ad-List)*"
        "|*<(iframe)\8*"
        ")\7&($TST(script=*)|$TST(html=0))"
Replace = "\0"
          "\r\n/*"
          "\r\n"
          "\r\nAd Function Disabled by Proxomitron - \8"
          "\r\n"
          "\r\n\7"
          "\r\n*/"
          "\r\n\1"
          "$LOG(WMatch: Ad Function Removed - (\u))"

Name = "Remove:  Ad Images in External JS {6.d.js}"
Active = TRUE
URL = "($TYPE(js)|$TYPE(vbs)|$TYPE(oth))(^$LST(Allow-JS)|$LST(Bypass-Ads))"
Bounds = "<(iframe*>(*</iframe>|)|img*>|a*</a>)"
Limit = 1024
Match = "(*<img&*href=$AVQ((\\"|"|)http(s|)://$LST(Ad-List)*)*)"
        "|"
        "*src=$AVQ((\\"|"|)(([a-z/.]&$LST(Ad-Keys)*)|*(http://|://)$LST(Ad-List)*))*"
        "|"
        "(*>&&*\s(^(^width=|height=))$LST(Ad-Dimensions)*)"
Replace = "$LOG(WMatch: External Ad URL Removed - (\u))"

Name = "============================= COOKIES  [READ] "
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "To allow session only filters enable... (Except for those in the Allow cookies List.)"
        ""
        "Web Page"
        "- "Block:  Meta Cookies {5.c1}""
        "- "Block:  Javascript Cookies {5.c1.js}""
        ""
        "Headers"
        "- "Set-Cookie:  All Cookies Session Only (in) {4.c2}""
Replace = "To kill all cookies filters enable... (Except for those in the Allow cookies List.)"
          ""
          "Web Page"
          "- "Make:  Meta Cookies Session Only {5.d.c2}""
          "- "Make:  Javascript Cookies Session Only {5.d.c2.js}""
          ""
          "Headers"
          "- "Cookie: Kill Unwanted Cookies (Out)  {5.c1}""
          "- "Cookie2: Kill Unwanted Cookies (Out)  {5.c1}""
          "- "Set-Cookie:  Never Accept Unwanted Cookies (in) {5.c1}""
          "- "Set-Cookie2:  Never Accept Unwanted Cookies (in) {5.c1}""

Name = "Block:  Meta Cookies {5.c1}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Trusted)|$LST(CookieList))"
Bounds = "<meta\s*>"
Limit = 512
Match = "*http-equiv = ("|)Set-Cookie*"

Name = "Block:  Javascript Cookies {5.c1.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(oth)|$TYPE(vbs))(^$LST(Trusted)|$LST(CookieList))"
Limit = 128
Match = ".(cookie(^[a-z.])[a-z. ]++[(=;])\1"
        "&($TST(script=*)|$TYPE(oth)|$TST(html=0))"
Replace = ".NO\1"

Name = "-------- SESSION ONLY"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Make:  Meta Cookies Session Only {5.d.c2}"
Active = FALSE
URL = "$TYPE(htm)(^$LST(Trusted)|$LST(CookieList))"
Bounds = "<meta\s*>"
Limit = 512
Match = "(*http-equiv = ("|)Set-Cookie*)\1(expires =*)\2"
Replace = "\1NO\2"

Name = "Make:  Javascript Cookies Session Only {5.d.c2.js}"
Active = FALSE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(oth)|$TYPE(vbs))(^$LST(Trusted)|$LST(CookieList))"
Limit = 50
Match = "(expires=*["';])\1"
        "&($TST(script=*)|$TYPE(oth)|$TST(html=0))"
        "&$LOG(WMatch: JS Cookie Converted to Session Only - \u)"
Replace = "NO\1"

Name = "-------- COOKIE VIEWER [READ]"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"
Replace = "Allows you to view cookies set and sent by the current site."
          "Also shows if any cookie values have been removed by Proxomitron."

Name = "View: Cookies Set and Sent {4.d.in}"
Active = TRUE
URL = "$TYPE(htm)"
Limit = 12
Match = "(^(^<ProxBottom>))"
        "("
        ""
        "("
        "$OHDR(Cookie:(\#;$SET(#=;<br>))+\#)$SET(pco=1)"
        "$SET(2=<div class="CookieH"> Cookie Header Out:</div>\@)"
        "|)"
        "&("
        "$TST(cookie=*)$SET(pco=1)"
        "$SET(3=<div class="CookieH">Removed from Set-Cookie:</div>$GET(cookie))"
        "|)"
        "&("
        "$IHDR(Set-Cookie:$SET(stack2=)(\1;$SET(stack2=$GET(stack2)\1;<br>))+(\1&$SET(stack2=$GET(stack2)\1)))$SET(pco=1)"
        "$SET(4=<div class="CookieH">Last Set-Cookie Header In:</div>$GET(stack2))"
        "|)"
        ""
        ")"
        ""
        "&$TST(pco=1)"
        "$STOP()"
Replace = "\t<span class="ProxCookie" style="display:inline">\r\n"
          "\t<a title="View Cookies Set and Sent by Current Page" href="javascript:ProxToggle\('ProxCookie','cl','yes'\)">\r\n"
          "\t<img alt="View Cookies Set and Sent by Current Page" height="16" width="15" src="http://local.ptron/JD_HTML/cookie.gif" border="0"></a>\r\n"
          "\t</span>\r\n"
          ""
          "\t<span class="ProxCookie" style="display:none">\r\n"
          "\t<div class="vcookie">\r\n"
          "\t<a id="CookieL" href="javascript:ProxToggle('ProxCookie','cl','yes')">Close [ x ]</a>\r\n"
          ""
          "\t<script type="text/javascript">"
          "if(document.cookie)document.write("
          "'<div class="CookieH">"
          "Cookies in Session:<\/div>'+document.cookie.replace(/; /g,';<br>')"
          ");"
          "</script>\r\n"
          ""
          "\t\4\r\n"
          "\t\3\r\n"
          "\t\2\r\n"
          ""
          "\t</div>\r\n"
          ""
          "\t</span>\r\n"
          ""
          "$SET(stack=)$SET(stack2=)$SET(pco=)$SET(cookie=)"

Name = "============================= SCRIPTING"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable:  Scripts {10.e.a}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(oth))(^$LST(Allow-JS))"
Limit = 768
Match = "<script*>&(^$TST(ProxScript=1))"
Replace = "<center>"
          "<span class=Prox id="p-js" style=display:none;>\&bull; <img src="http://local.ptron/JD_HTML/prox.gif"><b> Script disabled</b></span>"
          "</center>"
          ""
          "<script language="ShonenScript 712.0" type="Shonen/Script" >"
          "$SET(script=)"

Name = "Block:  VB and Encoded Scripts {8.d.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(vbs)|$TYPE(oth))(^$LST(Allow-JS)|$LST(Bypass-Ads)|$LST(Allow-Code))"
Bounds = "<s(cri| " \+ "cri|c" \+ " ri|cr" \+ i)pt\s*>"
Limit = 768
Match = "*("
        "\s(language|type)="
        "("
        "(^$AV((\\"|)(text/|)(java|j)script*|(^?)))$AVQ(((\\"|"|)\0*)\1)"
        "|$AVQ(((\\"|"|)\0*.Encode*)\1)"
        ")"
        ")*"
        "&*(src=$AV(\2)|$SET(2=inline))*"
Replace = "<span class=Prox id=\0p-exploit\0 style=\0display:none\0>"
          "<center>"
          " \1 blocked: \2 "
          "</center>"
          "</span>"
          ""
          "<script type=\0text/shonenscript\0 language=\0shonenscript\0>"
          "$SET(script=)"

Name = "============================= JAVASCRIPT CONTROL"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Insert:  JS Control Variables {R}"
Active = TRUE
URL = "$TYPE(htm)"
Limit = 12
Match = "(^(^<ProxHdrTop>))$STOP()"
        "&"
        "($TST(ProxError=1)|$SET(ProxError=0))"
        "($TST(ProxMouse=1)|$SET(ProxMouse=0))"
        "($TST(ProxStatus=1)|$SET(ProxStatus=0))"
        "($TST(ProxPopup=1)|$SET(ProxPopup=0))"
        "($TST(ProxAlert=1)|$SET(ProxAlert=0))"
        "($TST(ProxAllowRequested=1)|$SET(ProxAllowRequested=0))"
        "($TST(ProxWindow=1)|$SET(ProxWindow=0))"
        "($TST(ProxPopupNotify=1)|$SET(ProxPopupNotify=0))"
        "($TST(ProxPopUpControl=1)|$SET(ProxPopUpControl=0))"
        "($TST(ProxOnload=1)|$SET(ProxOnload=0))"
        "($TST(ProxOnloadButton=1)|$SET(ProxOnloadButton=0))"
        "($TST(ProxAllowAlerts=1)|$SET(ProxAllowAlerts=0))"
Replace = "\t<script type="text/javascript">\n"
          "\t var ProxError = $GET(ProxError) ;\n"
          "\t var ProxMouse = $GET(ProxMouse) ;\n"
          "\t var ProxStatus = $GET(ProxStatus) ;\n"
          "\t var ProxPopup = $GET(ProxPopup) ;\n"
          "\t var ProxAlert = $GET(ProxAlert) ;\n"
          "\t var ProxAllowRequested = $GET(ProxAllowRequested) ;\n"
          "\t var ProxWindow = $GET(ProxWindow) ;\n"
          "\t var ProxPopupNotify = $GET(ProxPopupNotify) ;\n"
          "\t var ProxPopUpControl = $GET(ProxPopUpControl) ;\n"
          "\t var ProxOnload = $GET(ProxOnload) ;\n"
          "\t var ProxOnloadButton = $GET(ProxOnloadButton) ;\n"
          "\t var ProxAllowAlerts = $GET(ProxAllowAlerts) ;\n"
          "\t</script>\n"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable:  JavaScript Errors {1.d.in}"
Active = TRUE
URL = "(^$LST(Allow-JS))$TYPE(htm)$SET(ProxError=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxError=0)PrxNeverMatch"

Name = "Disable:  Selected JS Properties {7.d.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(vbs)|$TYPE(oth))(^$LST(Allow-JS))"
Limit = 64
Match = "("
        "window.external.[^(]+$SET(2=window.external.no)"
        "|"
        ".(CreateObject|isHomePage|title)$SET(2=.no)"
        "|"
        "clipboardData$SET(2=chalkboardData)"
        ")\1"
        "&($TST(script=*)|$TST(html=0))"
        "&$LOG(WMatch: Disabled JS Property (\1) - \u)"
Replace = "\2"

Name = "---------------- ANNOYANCES"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Allow:  Right Mouse Clicks {2.d.in}"
Active = TRUE
URL = "(^($LST(Allow-JS)|www.bestbuy.com))$TYPE(htm)$SET(ProxMouse=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxMouse=0)PrxNeverMatch"

Name = "Disable:  Status Bar Manipulation {4.in}"
Active = TRUE
URL = "(^$LST(Allow-JS))$TYPE(htm)$SET(ProxStatus=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxStatus=0)PrxNeverMatch"

Name = "Disable:  Browser Window Manipulation {4.d.in}"
Active = TRUE
URL = "(^$LST(Allow-JS))$TYPE(htm)$SET(ProxWindow=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxWindow=0)PrxNeverMatch"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable:  Alerts, Confirm Boxes {4.d.in}"
Active = TRUE
URL = "(^$LST(Allow-Code)|$LST(Allow-JS))$TYPE(htm)$SET(ProxAlert=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxAlert=0)PrxNeverMatch"

Name = "Allow:  Alerts After Page Load {4.d.in.o.m}"
Active = TRUE
URL = "(^$LST(Allow-Code)|$LST(Allow-JS))$TYPE(htm)$SET(ProxAllowAlerts=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxAllowAlerts=0)PrxNeverMatch"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable:  OnLoad {6.in}"
Active = FALSE
URL = "(^$LST(Allow-JS))$TYPE(htm)$SET(ProxOnload=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxError=0)PrxNeverMatch"

Name = "Convert:  OnLoad to Button {3.in.ie}"
Active = FALSE
URL = "(^$LST(Allow-JS))$TYPE(htm)$SET(ProxOnloadButton=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxError=0)PrxNeverMatch"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable: OnUnload - HTML {2.d}"
Active = TRUE
Multi = TRUE
URL = "$TYPE(htm)(^$LST(Allow-JS))"
Bounds = "(<(body|frameset)\s*>)"
Limit = 768
Match = "*on(unload|exit|beforeunload)&(\#(on(unload|exit|beforeunload))\#"
        "$SET(#=no)(=)\#)+\#"
Replace = "\@"

Name = "Disable: OnUnload - Scripts {2.d.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(oth)|$TYPE(vbs))(^$LST(Allow-JS))"
Limit = 18
Match = "on(unload|exit|beforeunload)\1&($TST(script=*)|$TYPE(oth)|$TST(html=0))"
Replace = "no\1"

Name = "=============================  POPUP BLOCKING"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable:  Pop-Up Windows {2.d.in}"
Active = TRUE
URL = "(^$LST(Trusted)|www.skinbase.org/download.php|$KEYCHK(u))$TYPE(htm)$SET(ProxPopup=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxPopup=0)PrxNeverMatch"

Name = "Allow:  Requested Pop-Ups {2.d.in}"
Active = TRUE
URL = "(^$LST(Trusted)|$KEYCHK(u))$TYPE(htm)$SET(ProxAllowRequested=1)"
Limit = 23
Match = "<ProxHdrTop>$SET(ProxAllowRequested=0)PrxNeverMatch"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Pop-Up:  Blocked Notification {6.d}"
Active = TRUE
URL = "(^$LST(Trusted)|$KEYCHK(u))$TYPE(htm)$SET(ProxPopupNotify=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxPopupNotify=0)PrxNeverMatch"

Name = "Force:  Pop-Ups to have Browser Controls {2.d.in}"
Active = TRUE
URL = "(^$LST(Trusted)|$KEYCHK(u))$TYPE(htm)$SET(ProxPopUpControl=1)"
Limit = 40
Match = "<ProxHdrTop>$SET(ProxPopUpControl=0)PrxNeverMatch"

Name = "============================= BROWSER INFO"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Fake:  Referrer in JS {4.d.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(oth)|$TYPE(vbs))(^$LST(Allow-JS))"
Limit = 128
Match = "referrer(.substr\([#0:*],[#0:*]\)|)"
        "&($TST(script=*)|$TYPE(oth)|$TST(html=0))"
        "&$LOG(WMatch: Referrer Faked - \u)"
Replace = ".referrer.substr(0,0)+"\u""

Name = "Hide:  Extra Browser Details {9.d.js}"
Active = TRUE
URL = "(^$TYPE(css)|$LST(DumbSites)|$LST(Allow-JS))"
Limit = 64
Match = ".$LST(JSProperties)"
        "&($TST(script=*)|$TST(html=0))"
        "&$LOG(WExtra Browser Details Hidden: \@ - \u)"
Replace = "\@"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Fake:  IE on Selected Sites {1.d.in}"
Active = TRUE
URL = "$LST(DumbSites)&$TYPE(htm)"
Limit = 12
Match = "(^(^<ProxHdrTop>))$STOP()"
Replace = "<script type="text/javascript">"
          "  navigator.userAgent = 'Mozilla/4.0 (compatible; MSIE 6.0; Win32) [en]';"
          "  navigator.appName = 'Microsoft Internet Explorer';"
          "  navigator.appVersion = '4.0 (compatible; MSIE 6.0; Win32)';"
          "  navigator.appCodeName = 'Mozilla';"
          "  navigator.browserLanguage = 'en';"
          "  navigator.systemLanguage = 'en';"
          "  navigator.platform = 'Win32';"
          "</script>\n"

Name = "============================= APPLETS & OBJECTS"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable:  ActiveX {8.e.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(vbs)|$TYPE(oth))(^$LST(Allow-ActiveX))"
Limit = 512
Match = "<(/|)\0object*>$LOG(WActiveX Disbaled)"
Replace = "<\0ignore-object>"

Name = "Disable:  Java Applets {8.e.js}"
Active = TRUE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(vbs)|$TYPE(oth))(^$LST(Allow-Java))"
Limit = 1024
Match = "$NEST(<applet,</applet>)"
        "|<((applet)\2|(object)\2*classid="java:*>)$SET(1=<ignore-\2)"
Replace = "<center>"
          "<span class=Prox id="p-flash" style=display:none;>\&bull; <P><img src="http://local.ptron/JD_HTML/prox.gif"><b> Java Applet disabled</b></span>"
          "</center>"
          "\1"

Name = "Disable:  Embedded Objects {8.a.e.js}"
Active = FALSE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(vbs)|$TYPE(oth))(^$LST(Allow-ActiveX))"
Limit = 768
Match = "$NEST(<embed,</embed>)"
        "|<embed*>$SET(1=<ignore-embed)"
Replace = "<span class=Prox id="p-flash" style=display:inline;>"
          "<center>"
          "\&bull; Embedded Object Disabled"
          "</center>"
          "</span>"
          "\1"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Toggle:  Java {4.d}"
Active = FALSE
URL = "$TYPE(htm)(^$LST(Allow-Java))"
Bounds = "<(applet\s*</applet>|object*>(*</object>|)|embed*>(*</embed>|))"
Limit = 4096
Match = "(*code=$AV(\2.(class|applet))*)\1"
        "&((<(applet|embed|object)*>&&*width=$AV(\8)*&&*height=$AV(\9)*)|)"
        "&$SET(Applet=$GET(Applet)1)"
        "&$SET(3=<a id="prxApplet" title="Show Java Applet: \2 - (\8x\9)" href="javascript:ProxToggle('ProxApplet$GET(Applet)','cl','yes')">)"
Replace = "<span class="ProxApplet$GET(Applet)" style="display:inline; text-align: center !important;">"
          ""
          "\3"
          "<img width="34" height="34" alt="Show Java Applet: \2 - (\8x\9)" src="http://local.ptron/JD_HTML/java.gif" border="0">"
          "</a>"
          ""
          "</span>"
          ""
          "<span class="ProxApplet$GET(Applet)" style="display:none; text-align: center !important;">"
          "\1"
          ""
          "<br>"
          "<a id="prxflash" href="javascript:ProxToggle('ProxApplet$GET(Applet)','cl','yes')">"
          "[ Hide Applet ]"
          "</a>"
          ""
          "</span>"

Name = "Toggle:  Flash {4.d}"
Active = FALSE
URL = "($TYPE(htm)|$TYPE(js)|$TYPE(vbs))(^$LST(Allow-Flash))"
Bounds = "<((object)*>(*</object >|)|(embed)*>(*</embed >|)|(iframe)*>(*</iframe >|))"
Limit = 2048
Match = "(*(shockwave|macromedia|flash|swf)*)"
        "&*(classid|codebase|type|pluginspage)=((\\|)('$SET(7=")|("|)$SET(7=')))\0"
        "&(*(src=$AV(\2)|*<param name=$AV(movie) value=$AV(\2) >)*)"
        "&((<(embed|object)*>&&*width=$AV(\8)*&&*height=$AV(\9)*)|)"
        "&($TST(script=*)$SET(1=\\\7)|$SET(1=\7))"
        "&$SET(flash=$GET(flash)$DTM(c))"
        "&$SET(3=<a id=prxflash title=\0Show Flash: \2 - \8x\9\0 href=\0javascript:ProxToggle(\1flash$GET(flash)\1,\1cl\1,\1yes\1)\0>)"
Replace = "<span class=\0flash$GET(flash)\0 style=\0display:inline\0>"
          ""
          "<table  width=\8 height=\9 cellpadding=0 cellspacing=0 style=\0border-width:2px;border-style:solid;\0>"
          "<tr><td align=center>"
          ""
          "\3<img width=32 height=32 alt=\0Show Flash: \2 - \8x\9\0 border=0 src=http://local.ptron/JD_HTML/flash.gif></a>"
          ""
          "</td></tr>"
          "</table>"
          ""
          "</span>"
          ""
          "<span class=\0flash$GET(flash)\0 style=\0display:none\0>"
          ""
          "<embed src=\2 width=\8 height=\9 type=application/x-shockwave-flash >"
          "<br>"
          ""
          "<a id=prxflash href=\0javascript:ProxToggle(\1flash$GET(flash)\1,\1cl\1,\1yes\1)\0>[ Hide Flash</a>"
          " | <a id=prxflash title=\0Right Click -&rsaquo; Save Target As...\0  href=\2>Save Flash ]</a>"
          ""
          "</span>"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Convert:  Flash to Links {4.a} "
Active = FALSE
URL = "$TYPE(htm)(^$LST(Allow-Flash))"
Bounds = "<(object*>(*</object>|)|embed*>(*</embed>|))"
Limit = 2048
Match = "<(\w)\1*(shockwave|macromedia|flash|swf)*"
        "&(*(src=$AV(\2)|*<param name=$AV(movie) value=$AV(\2) >)*)"
        "&(*(src|value)=(\"|"|)\0*)"
Replace = "<center>"
          "<span class=\0proxlink\0 id=\0p-flash\0 style=\0display:inline;\0>"
          "<a class=\0proxlink\0 id=\0p-flash\0 title=\0\2\0 target=\0_blank\0 href=\0\2\0 >[View Flash]</a>"
          "</span>"
          "</center>"

Name = "Convert:  Embedded Movies to Links {6.d}"
Active = FALSE
URL = "$TYPE(htm)(^$LST(Allow-ActiveX)|www.apple.com/)"
Bounds = "<(object*>(*</object>|)|embed*>(*</embed>|))"
Limit = 4096
Match = "("
        "(*CLASSID=$AV(clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B)&*(NAME="src" value|<EMBED [^>]++ src)=$AV(\0)*)"
        "|"
        "*(NAME="src" value|<EMBED [^>]++ src)=$AV((*.(mp(e|)g|mov|avi|wmv|asf)\1)\0)*"
        ")"
        "&(*href=$AV((*.(mp(e|)g|mov|avi|wmv)\2)\4)*"
        "$SET(3= | <a id="p-link" href="\4" >View it's Target</a>)|)"
        "&((<(embed|object)*>&&*width=$AV(\8)*&&*height=$AV(\9)*)|)"
Replace = "<table  width=\8 height=\9 cellpadding=0 cellspacing=0 style=\0border-width:2px;border-style:solid;\0>"
          "<tr><td align=center>"
          "<span class=Prox id="p-flash">"
          "<center>"
          "<a id="p-link" title="\1" href="\0" >View Movie</a>\3"
          "</center>"
          "</span>"
          "</td></tr>"
          "</table>"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Remove:  Specific Java Applets {2}"
Active = FALSE
URL = "$TYPE(htm)(^$LST(Allow-ActiveX))"
Bounds = "<applet\s*</applet>"
Limit = 2048
Match = "*code=$AV((scroll|NavigatorTicker|movie|WSSApplet|hyper|statusBarAnimation|measure)\1.*)*"
Replace = "<span class=Prox id="p-flash" style=display:inline;>"
          "<center>"
          "\&bull; Java Applet: \1"
          "</center>"
          "</span>"

Name = "============================= PAGE ANNOYANCES"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Remove:  Scrollbar Modifications {2}"
Active = FALSE
Limit = 64
Match = "scrollbar([a-z0-9-]+|) : *(;|"|'|\n|(})\1)&($TST(css=1)|$TST(script=*))"
Replace = "\1"

Name = "Remove:  Anti-Cache Meta Tags {3.d}"
Active = TRUE
URL = "$TYPE(htm)"
Bounds = "<meta\s*>"
Limit = 128
Match = "\0http-equiv=$AV((Cache-Control|expires|store|Last-Modified|pragma|(no-|)cache)\1)\2"
Replace = "\0 http-ignore=\1 \2"

Name = "Convert:  Background Sounds to Links {2.d}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(bypass-ads))"
Bounds = "<embed\s*>|<bgsound\s*>"
Limit = 256
Match = "("
        "*.(mid|midi|mp3|wav|wmx|wma)\5"
        "$SET(4=[Click to Play \5 File])"
        "|"
        "("
        "*width=(\\"|"|)[#0:6]&*height=(\\"|"|)[#0:6]"
        "$SET(4=[Embedded File])"
        ")"
        ")"
        "&*src=$AVQ((\\"|"|)\0(([^/]+/)+\2.([a-z0-9]+)\3)\1($TST(\0)|))*"
Replace = "<center>"
          "<span class=\0Prox\0 id=\0p-link\0>"
          "<a class=\0sound\0 id=\0p-link\0 href=\0\1\0>embedded sound: \4</a>"
          "</span>"
          "</center>"

Name = "---------- TEXT DISPLAY"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable:  Blinking Text {1.d}"
Active = TRUE
URL = "$TYPE(htm)"
Limit = 20
Match = "<(/|)\1blink>"
Replace = "<\1b>"

Name = "Disable:  Scrolling Text {1.d}"
Active = TRUE
URL = "$TYPE(htm)"
Limit = 256
Match = "<(/|)\0marquee[^>]+>"
Replace = "<\0b>"

Name = "Increase:  Small Text Sizes - CSS {2}"
Active = FALSE
URL = "($TYPE(htm)|$TYPE(css))"
Limit = 128
Match = "(font(-size|) : )\1([^0-9]++)\2"
        "(([#6-9]px"
        "|[#2-9]pt"
        "|x(x|)-small"
        "|0.[1-6]([0-9]|)em"
        ")$SET(4=12px)"
        "|[567][0-9]%$SET(4=80%)"
        "|[89][0-9]%$SET(4=100%)) "
        "\3(}|;)\0"
Replace = "\1\2 \4 \3\0"

Name = "Increase:  Small Text Sizes - FONT {2}"
Active = FALSE
URL = "$TYPE(htm)"
Bounds = "<font*>"
Limit = 128
Match = "\1size=[#-6:1]\2"
Replace = "\1size="2"\2"

Name = "Increase:  Small Text Sizes - SMALL {2}"
Active = FALSE
URL = "$TYPE(htm)"
Limit = 7
Match = "<(/|)small"
Replace = "<normal"

Name = "---------- BACKGROUNDS"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Dim:  White Backgrounds {2.d}"
Active = FALSE
Limit = 32
Match = "(b(gcolor=|ackground(-color|) : ))\1("|'|)\3"
        "((white|((#|)(f[a-f0-9]f([a-f0-9]f[a-f0-9]|(^[a-z0-9]))))))(;|"|'|)\2"
Replace = "\1\3#F5F5F5\2"

Name = "Disable:  Webpage Background - CSS {3.in}"
Active = FALSE
URL = "$TYPE(htm)"
Limit = 12
Match = "(^(^<ProxHdrTop>))$STOP()"
Replace = "<style type="text/css">"
          "body {"
          "	background-image: none !important;"
          "	}"
          "</style>\n"

Name = "Remove:  Webpage Background - HTML {3}"
Active = FALSE
Multi = TRUE
URL = "$TYPE(htm)"
Bounds = "<body\s*>"
Limit = 512
Match = "\1background=\2"
Replace = "\1nobak=\2"

Name = "---------- REDIRECTS"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Disable:  Auto Meta Refreshes {4.a}"
Active = FALSE
URL = "$TYPE(htm)"
Bounds = "<meta\s*>"
Limit = 256
Match = "*http-equiv=("|)refresh*"
        "&"
        "*content=("|) ([#0:*])\2"
        "("
        " ([;,]|) "
        "("
        "(url=("|)((^*[+]*[>" ])&([^>" ]+)\1))"
        "|"
        "((^url)&$SET(1=#))"
        ")"
        ")*"
Replace = "<center>"
          "<a class=proxlink id="p-refresh" href="\1">[Meta Refresh: \2 sec]</a>"
          "</center>"
          "$STOP()"

Name = "Disable:  Auto Javascript Redirection {6}"
Active = FALSE
URL = "$TYPE(htm)(^$LST(Allow-JS))"
Bounds = "$NEST(<script,</script>)"
Limit = 512
Match = "*.location(.href|)="([^"'+]++)\1 " (^\+)*"
Replace = "<center><a class="proxlink" id="p-refresh"  style="text-align: center !important;" href="\1">"
          "[JS Redirect]</a></center>$STOP()"

Name = "---------- FRAMES"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Allow:  Frame Resizing {2}"
Active = FALSE
URL = "$TYPE(htm)"
Bounds = "<fram*>"
Limit = 256
Match = "(\#((frameborder|border)=$AV(*)|noresize|=$AV(0|no)$SET(\#==1 )))+ \1 >"
Replace = "\@\1 border=1>"

Name = "Remove:  Top of Page Frame {8}"
Active = FALSE
Multi = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Ads)|[^/]++.microsoft.com/)"
Bounds = "<frameset\s*>"
Limit = 150
Match = "\1 rows=$AV([#20:90] , (\*|100%) ) \3"
Replace = "\1 rows="0,*" \3"

Name = "Remove:  Bottom of Page Frame {6}"
Active = FALSE
Multi = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Ads))"
Bounds = "<frameset\s*>"
Limit = 150
Match = "\1 rows=$AV((1|)\* , [#10:100] ) \3"
Replace = "\1 rows="*,0" \3"

Name = "============================= LINK MODIFYING"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Highlight:  Email, FTP & Javascript Links {2.d}  "
Active = FALSE
URL = "$TYPE(htm)"
Bounds = "<a\s*>"
Limit = 512
Match = "\0(href=$AV([^.]++(mailto|ftp|javascript)\1:*))\2\3"
Replace = "\0 class=\1 \2 \3"

Name = "Open Links to Images in Another Window {2.d} "
Active = FALSE
URL = "$TYPE(htm)"
Bounds = "<a\s*>"
Limit = 512
Match = "*href=$AV(*.(gif|png|jpg|jpeg|jpe|bmp|xbm))"
        "&(\#\starget=$AV(*))+\#>"
Replace = "\@ class='image' target='_blank' title='Image Link: Click to open in a new window...'>"

Name = "---------------- OPEN LINKS IN SAME WINDOW - [READ]"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"
Replace = "On older computers, "Check link targets Part 1&2" can slow page loading "
          "when used in tandem with "Super-Opener"."

Name = "Suppress:  blank/new {4.d}"
Active = FALSE
Multi = TRUE
URL = "$TYPE(htm)(^[^.]+.vivisimo.com/)"
Bounds = "<(a|base)\s*>"
Limit = 512
Match = "\1target=$AV((_|)(blank|new))\2"
Replace = "\1\2"

Name = "Check:  Link Targets {5.in}"
Active = FALSE
URL = "#TYPE(htm)"
Limit = 12
Match = "(^(^<ProxBottom>))$STOP()"
Replace = "<script type="text/javascript">"
          "initPROX();"
          "</script>\n"

Name = "---------------- Super Opener - [READ] "
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"
Replace = "This filter will make every text link into"
          "two links. One that will open the page in"
          "the same window, the other with a green background"
          "that shows you the part of the link,"
          "that if clicked will open that link in"
          "a new window."

Name = "Split:  Link Targets {4.so}"
Active = FALSE
URL = "$TYPE(htm)(^$LST(Bypass-SO))"
Bounds = "<a\s*<(/a>|(^(^a\s)))"
Limit = 768
Match = "<a"
        "(((\shref=$AV(*))\0$SET(link=\0)"
        "|(\sclass=$AV(*))\0$SET(class=\0)"
        "|(\sstyle=$AV(*))\0$SET(style=\0)"
        "|\starget=$AV((_|)(blank|new))"
        "|(\s\w)\#)+>$SET(#=\r\n >)"
        " |(^$SET(link=)$SET(class=)$SET(style=)))"
        "((*((<span\s[^>]+>)\0$SET(span=\0)"
        " |(<font\s[^>]+>)\0$SET(font=\0)"
        " ))+|$NEST( <,(^/a(^?))*,> )+"
        ")\#"
        "(((\&[^; ]+;|[^< ]) $NEST(<,(^/a(^?))*,> )+)\#"
        " (</a>|'\); \w\('</a>)\1"
        " $SET(2=&nbsp;<img src='http://local.ptron/JD_HTML/new.gif'"
        " width='10' height='10'\r\n class='super-o'"
        " alt='open link in new window' border='0'>\r\n)"
        "|"
        " ((((\&[^; ]+;|[^< ]) $NEST(<,(^/a(^?))*,> )+)++{1,2})\#"
        " (((\&[^; ]+;|[^< ]) $NEST(<,(^/a(^?))*,> )+)\2"
        " (</a>|'\); \w\('</a>)\1"
        " &&"
        " (*$NEST(<,(/(font$SET(open=$GET(font)$GET(open))"
        " |span$SET(open=$GET(span)$GET(open))"
        " |(b|i|u)\0$SET(open=<\0>$GET(open))"
        " )\0$SET(close=$GET(close)</\0>)|*),>)"
        " )+*"
        " )"
        " |"
        " (((\&[^; ]+;|[^< ]) $NEST(<,(^/a(^?))*,> )+)++{2,*})\#"
        " ((((\&[^; ]+;|[^< ]) $NEST(<,(^/a(^?))*,> )+)++{2})\2"
        " (</a>|'\); \w\('</a>)\1"
        " &&"
        " (*$NEST(<,(/(font$SET(open=$GET(font)$GET(open))"
        " |span$SET(open=$GET(span)$GET(open))"
        " |(b|i|u)\0$SET(open=<\0>$GET(open))"
        " )\0$SET(close=$GET(close)</\0>)|*),>)"
        " )+*"
        " )"
        " )"
        ")&(^TST(script=*))"
Replace = "<a$GET(link)$GET(class)$GET(style)\@$GET(close)\1<a\r\n"
          " id='BPM-supero' title='Open link in new window'"
          " target='_blank'\r\n$GET(link)$GET(class)$GET(style)\r\n"
          " >$GET(open)\2</a>"
          "$SET(link=)"
          "$SET(class=)"
          "$SET(style=)"
          "$SET(span=)"
          "$SET(font=)"
          "$SET(open=)"
          "$SET(close=)"

Name = "============================= BROWSER TOOLS"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Inject Style Sheet:  Show Kills {2.a.in}"
Active = TRUE
URL = "$TYPE(htm)(^$KEYCHK(s))"
Limit = 12
Match = "(^(^<ProxHdrTop>))$STOP()"
Replace = "<link href="http://Local.ptron/JD_HTML/Css/showkills.css" type="text/css" rel="stylesheet" />\n"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Add:  AltaVista Language Translator {1.sp.in}"
Active = FALSE
URL = "$KEYCHK(t) & $TYPE(htm)"
Limit = 12
Match = "(^(^<ProxHdrTop>))$STOP()"
Replace = "<!-- Start Altavista Language Translator -->\n"
          "<center>\n"
          "<FORM name="AVLTform">"
          "<SELECT name="AVLTlinks" onChange="window.location=document.AVLTform.AVLTlinks.options[document.AVLTform.AVLTlinks.selectedIndex].value">"
          "<OPTION SELECTED value="\u">AltaVista Translator"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=en_zh&tt=url&urltext=&doit=done')">Translate American to Chinese</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=en_fr&tt=url&urltext=&doit=done')">Translate American to French</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=en_de&tt=url&urltext=&doit=done')">Translate American to German</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=en_it&tt=url&urltext=&doit=done')">Translate American to Italian</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=en_ja&tt=url&urltext=&doit=done')">Translate American to Japanese</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=en_ko&tt=url&urltext=&doit=done')">Translate American to Korean</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=en_pt&tt=url&urltext=&doit=done')">Translate American to Portuguese</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=en_es&tt=url&urltext=&doit=done')">Translate American to Spanish</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=zh_en&tt=url&urltext=&doit=done')">Translate Chinese to American</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=fr_en&tt=url&urltext=&doit=done')">Translate French to American</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=fr_de&tt=url&urltext=&doit=done')">Translate French to German</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=de_en&tt=url&urltext=&doit=done')">Translate German to American</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=de_fr&tt=url&urltext=&doit=done')">Translate German to French</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=it_en&tt=url&urltext=&doit=done')">Translate Italian to American</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=ja_en&tt=url&urltext=&doit=done')">Translate Japanese to American</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=ko_en&tt=url&urltext=&doit=done')">Translate Korean to American</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=pt_en&tt=url&urltext=&doit=done')">Translate Portuguese to American</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=ru_en&tt=url&urltext=&doit=done')">Translate Russian to American</option>"
          "<OPTION value="javascript:void(location.href='http://babelfish.altavista.com/babelfish/urltrurl?url=\u&lp=es_en&tt=url&urltext=&doit=done')">Translate Spanish to American</option>"
          "</SELECT> "
          "</CENTER>\n "
          "<!-- End Altavista Language Translator -->\n"

Name = "Enhance:  404 Page not Found Pages {1.d.in}"
Active = TRUE
URL = "$RESP(404*)&$TYPE(htm)(^(www.google.com/|216.239.|web.archive.org))"
Limit = 12
Match = "(^(^<ProxHdrTop>))$STOP()"
Replace = ""
          "\r\n"
          ""
          "<style>"
          "/* 404 */"
          ""
          ".error {"
          "	padding: 1% !important;"
          "	font-family : Verdana, Arial, Helvetica, sans-serif !important;"
          "	font-size : 11px !important;"
          "	background: #78C778 !important;"
          "	color: #000 !important;"
          "	border: 1px solid black !important;"
          "	}"
          ""
          "/* Headers */"
          ""
          "span.header {"
          "	color:#000 ; "
          "	background: transparent ;"
          "	font:14px verdana, arial, helvetica, sans-serif ; "
          "	font-weight:900 ; "
          "	margin: 0 1.5% 1.5% 0 ;"
          "	letter-spacing: 2px !important;"
          "	} "
          "	"
          "/* Google iframe */"
          ""
          "iframe.igoogle { "
          "	border:1px solid black ;"
          "	width: 100%;"
          "	height: 60% ;"
          "	}"
          ""
          "/* Links Styles */"
          ""
          "div.error a { "
          "	font-family : Verdana, Arial, Helvetica, sans-serif ;"
          "	font-size : 11px ; "
          "	color : #000 ; "
          "	background-color: transparent ; "
          "	text-decoration : none ; "
          "	} "
          "	"
          "div.error a:visited { "
          "	font-family : Verdana, Arial, Helvetica, sans-serif ;"
          "	font-size : 11px ; "
          "	color : purple ; "
          "	background-color: transparent ; "
          "	text-decoration : none ; "
          "	} "
          "	"
          "div.error a:hover { "
          "	font-family : Verdana, Arial, Helvetica, sans-serif ; "
          "	font-size : 11px ; "
          "	color : red ; "
          "	background-color: #EFEFE6 ; "
          "	text-decoration : none ;"
          "	}"
          ""
          "a.nav {"
          "	font-weight: bold ;"
          "	}"
          "</style>	"
          ""
          "<script type="text/javascript">\r\n"
          "var frames;"
          "var pid = 'piframe';"
          "var url0='about:blank';"
          "var url1='http://www.google.com/search?q=cache:\u';"
          "var url2='http://www.google.com/search?q=related:\u';"
          "var url3='http://www.google.com/search?q=link:\h\p\q\a';"
          "var url4='http://www.google.com/search?q=%22%2B\h\p\q\a%22';"
          "var url5='http://web.archive.org/web/*/\u';\r\n"
          "function oneup()"
          "{"
          " if (location.pathname == "/");"
          " else if (location.pathname.charAt(location.pathname.length-1) == "/") location = "..";"
          " else location = ".";"
          " void 0"
          "}\r\n"
          "function pdelay0(){setTimeout('document.getElementById(pid).src = url0',1);return(true);}\r\n"
          "function pdelay1(){setTimeout('document.getElementById(pid).src = url1',1);return(true);}\r\n"
          "function pdelay2(){setTimeout('document.getElementById(pid).src = url2',1);return(true);}\r\n"
          "function pdelay3(){setTimeout('document.getElementById(pid).src = url3',1);return(true);}\r\n"
          "function pdelay4(){setTimeout('document.getElementById(pid).src = url4',1);return(true);}\r\n"
          "function pdelay5(){setTimeout('document.getElementById(pid).src = url5',1);return(true);}\r\n"
          "</script>\r\n"
          ""
          ""
          "<div class="error" style="text-align:center">"
          ""
          "<span class="header">Prox 404:</span>"
          ""
          "<a href="javascript:history.back(1)">Back</a> "
          " | <a href="http://\h" >Top Domain</a>"
          " | <a href="javascript:oneup()">One Up</a>"
          " | <a class="nav" href="javascript:ProxToggle('ciframe','cl','no')""
          " onclick="javascript:pdelay1()">Google Cache</a>"
          " | <a class="nav" href="javascript:ProxToggle('ciframe','cl','no')""
          " onclick="javascript:pdelay2()">Similar Pages</a>"
          " | <a class="nav" href="javascript:ProxToggle('ciframe','cl','no')""
          " onclick="javascript:pdelay3()">Link To</a>"
          " | <a class="nav" href="javascript:ProxToggle('ciframe','cl','no')""
          " onclick="javascript:pdelay4()">Contain the Term</a>"
          " | <a class="nav" href="javascript:ProxToggle('ciframe','cl','no')""
          " onclick="javascript:pdelay5()">Internet Archive</a>"
          " "
          "<br>"
          ""
          "<span class="ciframe" style="display:none"><br>"
          " "
          "<a class="nav" href="javascript:top.location=document.getElementById('piframe').src">"
          "Full View </a> | "
          "<a class="nav" href="javascript:ProxToggle('ciframe','cl','yes')""
          " > Hide</a>"
          ""
          "<br>"
          ""
          "<iframe id="piframe" class="igoogle" src="about:blank"></iframe>"
          ""
          "</span>\r\n"
          "</div>\r\n"

Name = "---------- PAGE TITLE"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Add:  Time to Title, Snip Excess {3}"
Active = FALSE
URL = "$TYPE(htm)"
Bounds = "<title*</title>"
Limit = 512
Match = "(<title\0>(?+{40})\2?*</title>$SET(1=\2...)"
        "|<title\0>\1</title>)"
Replace = "<title\0>\1 | $DTM(h:m a) :: $DTM(M/D/Y)</title>$STOP()"

Name = "Remove:  Junk from Titles, Snip Excess {3.d}"
Active = FALSE
URL = "$TYPE(htm)"
Bounds = "<title>*</title>"
Limit = 768
Match = "$STOP()<title>"
        "[^a-z0-9]++"
        "([^\[\]_!~`:. ]?++)\2$SET(title=\2)"
        "[^a-z0-9]++"
        "</title>"
        "&("
        "$TST(title=((\w\s)+{6})\2*)$SET(0=...)"
        "|)"
Replace = "<title>\2\0</title>$SET(title=)"

Name = "---------- MENU - [READ]"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "How to use Proxomitron Menu {3}.."
        ""
        "When Proxomitron Menu {3} is enabled, move your cursor"
        "to the top left hand corner of any page to display the"
        "Proxomitron icon. When clicked, it brings up a menu with"
        "various Proxomitron Commands and a few Bookmarklets."
        ""
        "NOTE: That is not the current time and date in the menu."
        "It's the time and date the page was last modified."

Name = "Proxomitron Menu - Part 1 {3.in}"
Active = TRUE
URL = "$TYPE(htm)(^$KEYCHK(s)) "
Limit = 12
Match = "(^(^<ProxHdrTop>))$STOP()"
Replace = "\r\n"
          "\t<link href="http://Local.ptron/JD_HTML/CSS/menu.css" type="text/css" rel="stylesheet" /> \n"
          "\t<script type="text/javascript" SRC="http://local.ptron/JD_HTML/JavaScript/menu.js"></script>\n"

Name = "Proxomitron Menu - Part 2 {3.in}"
Active = TRUE
URL = "$TYPE(htm)"
Limit = 12
Match = "(^(^<ProxBottom>))($IHDR(Last-Modified: \1)$SET(2= | Page Last Modified: \1)|)$STOP()"
Replace = "\t<div id="ProxMenuMain" onmouseover="javascript:ShowIcon()">"
          "\t<img src="http://local.ptron/clear.gif" width=16 height=16 alt="" border=0>"
          "\t</div>"
          ""
          "\t<div id="ProxIcon" onmouseout="javascript:HideIcon()" style="display:none">"
          "\t<a href="javascript:void()" title="Open Proxomitron Menu\2" onclick="javascript:ShowMenu()"><img src="http://local.ptron/JD_HTML/Prox.gif" border=0 width=17 height=17 alt=""></a>"
          "\t</div>	"
          ""
          ""
          "\t<div id="ProxMenuSub" style="display:none">"
          " "
          "\t<a class="menbar-header" href="javascript:HideMenu()">Close Menu</a>"
          "\t<a class="menbar-item" target="_blank" href="http://\xbypass..\h\p\q\a">Bypass All Filters</a>"
          "\t<a class="menbar-item" href="http://\xbweb..\u">Bypass Web Filters</a>"
          "\t<a class="menbar-item" target="_blank" href="http://\xbin..\h\p\q\a">Bypass Header Filters (in)</a>"
          "\t<a class="menbar-item" target="_blank" href="http://\xbout..\h\p\q\a">Bypass Header Filters (out)</a>"
          "\t<div class="sep">&nbsp;</div>"
          "\t<a class="menbar-item" target="_blank" href="http://\xsrc..\h\p\q\a">View Source</a>"
          "\t<a class="menbar-item" target="_blank" href="http://\xsrc..bypass..\h\p\q\a">View Source (Bypassed)</a>"
          "\t<div class="sep">&nbsp;</div>"
          "\t<a class="menbar-item" target="_blank" href="http://\xdbug..\h\p\q\a">DBUG Page</a>"
          "\t<a class="menbar-item" target="_blank" href="http://add.to.blockfile/CookieList/\h/\u">Add to CookieList</a>"
          "\t<div class="sep">&nbsp;</div>"
          "\t<a class="menbar-item" href="javascript:tkills()">Toggle Kills</a>"
          "\t<div class="sep">&nbsp;</div>"
          "\t<a class="menbar-item" href="javascript:translate()">Translate Page</a>"
          "\t<a class="menbar-item" href="javascript:shrtlink()">Create Short Link</a>"
          "\t<div class="sep">&nbsp;</div>"
          "\t<a class="menbar-item" href="http://\xload//JD_Basic.cfg?\h\p\q\a">Load Basic Config</a>"
          "\t<a class="menbar-item" href="http://\xload//Default.cfg?\h\p\q\a">Load Default Config</a>"
          "\t<div class="sep">&nbsp;</div>"
          "\t<a class="menbar-item" target="_blank" href="http://local.ptron/.pinfo/urls/">Recent URL's</a>"
          "\t<a class="menbar-item" target="_blank" href="http://local.ptron/.pinfo/lists/">Current Blocklists</a>"
          "\t<div class="sep">&nbsp;</div>"
          "\t<a class="menbar-item" target="_blank" href="http://\x\dJD_Help/filters.htm">View Help Files</a>"
          "\t<div class="sep">&nbsp;</div>"
          "\t<a class="menbar-header" href="javascript:HideMenu()" onmouseout="javascript:HideMenu()" >Close Menu</a>"
          ""
          "\t</div> \n"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Proxomitron Toolbar {4.in}"
Active = FALSE
URL = "$TYPE(htm)"
Limit = 12
Match = "(^(^<ProxBottom>))"
Replace = "$STOP()\n"
          "    <center>\n"
          "      <span class="Prox" style="display:none">\n"
          "      <span class="proxobar">[</span> \n"
          "      <a class="proxobar" target="_blank" href="http://\xbypass..\h\p\q">Bypass Filtering</a> \n"
          "      <span class="proxobar">::</span> \n"
          "      <a class="proxobar" target="_blank" href="http://\xdbug..\h\p\q\a">DeBug Page</a> \n      "
          "      <span class="proxobar">::</span> \n"
          "      <a class="proxobar" target="_blank" href="http://\xbypass..src..\h\p\q\a">Bypassed Source</a> \n"
          "      <span class="proxobar">::</span> \n"
          "      <a class="proxobar" href="http://add.to.blockfile/CookieList/\h/\u">Add Page to Blockfile..</a> \n"
          "      <span class="proxobar">::</span> \n"
          "      <a class="proxobar" target="_blank" href="http://\xload//JD_Basic.cfg?\u">Load Basic Config</a> \n      "
          "      <span class="proxobar">::</span> \n"
          "      <a class="proxobar" target="_blank" href="http://\x\dhelp/index.html">Help Files</a> \n"
          "      <span class="proxobar">::</span> \n"
          "      <a class="proxobar" target="_blank" href="http://local.ptron/.pinfo/urls/">pInfo</a> \n"
          "      <span class="proxobar">::</span> \n"
          "      <a class="proxobar" target="_blank" href="http://www.infoprosjoint.net/index.php">IJ</a> \n"
          "      <span class="proxobar">]</span>\n"
          "      </span>\n"
          "    </center>\n"
          "\r\n"

Name = "-------- TEXT FILES - [READ]"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Force:  Plain Text Rendering - Part 1 {4.d}"
Active = FALSE
URL = "$IHDR(Content-Type:text/html; PrxOriginalType="text/plain")"
Limit = 1
Match = "$STOP()"
Replace = "$URL([^:]+:/+\1)"
          "\r\n<html>"
          "\r\n<head>"
          "\r\n<title>\u</title>"
          "\r\n<link rel="stylesheet" type="text/css" href="http://local.ptron/JD_HTML/CSS/PlainTextView.css">"
          "\r\n</head>"
          "\r\n<body>"
          "\r\n<div class="PTVHeader">"
          "\r\n<h3>Proxomitron: Forced Text Rendering Enabled</h3>"
          "\r\n<p>Here is a <a href="http://\xbin..\1">plain text version</a> suitable for saving or handing off to an external viewer.</p>"
          "\r\n</div>"
          "\r\n<p>NOTE: If there is HTML in this file, it may be filtered by Proxomitron.</p>"
          "\r\n<pre>"
          "$SET(html=1)"

Name = "Force:  Plain Text Rendering - Part 2 {4.d}"
Active = FALSE
URL = "$IHDR(Content-Type:text/html; PrxOriginalType="text/plain")"
Limit = 1
Match = "(<$SET(0=&lt;)"
        "|>$SET(0=\&gt;)"
        "|\&$SET(0=\&amp;)"
        "|\"$SET(0=\&quot;))"
Replace = "\0"

Name = "============================= REQUIRED [READ]"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Mark:  CSS {R}"
Active = TRUE
Multi = TRUE
URL = "$TYPE(css)$SET(css=1)|$TYPE(htm)"
Limit = 8
Match = "("
        "<style$SET(CSS=1)PrxNeverMatch"
        "|"
        "</style>$SET(CSS=)PrxNeverMatch"
        ")\1"
Replace = "\1"

Name = "Inject:  Proxomitron Style Sheet {R}"
Active = TRUE
URL = "$TYPE(htm)(^$KEYCHK(s))"
Limit = 12
Match = "(^(^<ProxHdrTop>))$STOP()"
Replace = "\r\n\t<link href="http://local.ptron/JD_HTML/Css/prox-links.css" type="text/css" rel="stylesheet" />"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Mark:  Scripts {R}"
Active = TRUE
Multi = TRUE
URL = "($TYPE(htm)|$TYPE(oth))"
Limit = 12
Match = "("
        "<(scr('\+'|)ipt$SET(script=$GET(script)1)PrxNeverMatch"
        "|"
        "(\\|)/script($TST(script=[12])$SET(script=)|$TST(script=([12]1))$SET(script=2)))\1PrxNeverMatch"
        ")"
        "&$TST(html=1)"
Replace = "<\1"

Name = "Mark:  External Scripts {R}"
Active = TRUE
URL = "($TYPE(js)|$TYPE(vbs))$SET(script=1)"
Limit = 1
Match = "$STOP()"

Name = "Mark:  Script Functions {R}"
Active = TRUE
URL = "$TYPE(htm)"
Limit = 128
Match = "document.write\($SET(function=1)PrxNeverMatch$STOP()"
Replace = "document.write("

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Remove:  Pre-HTML Scripts {R}"
Active = TRUE
Multi = TRUE
URL = "$TYPE(htm)"
Limit = 8000
Match = "("
        "(<head)\0$STOP()"
        "|($NEST(<script,</script>))\1$SET(prejs=$GET(prejs)\r\n<!-- prehtml script -->\r\n\1)$SET(0=<!-- Prox: Pre-HTML Script Removed -->)"
        ")"
Replace = "\0$SET(script=)"

Name = "Remove:  Post-HTML Scripts {R}"
Active = TRUE
Multi = TRUE
URL = "$TYPE(htm)"
Bounds = "<!--/(body|html)\1(^*<(/|)(body|html))?+{20}?+{0,32500}(^?)"
Limit = 32767
Match = "(\#"
        "("
        "$NEST(<script,</script>)$SET(post=$GET(post)script )"
        ")"
        "&$SET(5="
        "\r\n<span class="Prox" id="p-table" style="display:none; text-align: center;">&bull; Post-\1: $GET(post)</span>"
        ")"
        ")+\#&(^$TST(nohtml=1))"
Replace = "\@\5$SET(post=)$STOP()"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Inject:  Proxomitron Helper Script - Start {R}"
Active = TRUE
URL = "$TYPE(htm)"
Limit = 12
Match = "(^(^<ProxHdrTop>))$STOP()"
Replace = "\n\t<script type="text/javascript" src="http://local.ptron/JD_HTML/JavaScript/JD_Start.js"></script>\n"

Name = "Inject:  Proxomitron Helper Script - End {R}"
Active = TRUE
URL = "$TYPE(htm)"
Limit = 12
Match = "(^(^<ProxBottom>))$STOP()"
Replace = "\t<span id="ProxDisplay"></span>\r\n"
          "\t<script type="text/javascript" src="http://local.ptron/JD_HTML/JavaScript/JD_End.js" DEFER></script>\r\n"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Protect:  TextAreas {R}"
Active = TRUE
URL = "$TYPE(htm)"
Bounds = "<textarea*</textarea>"
Limit = 8000
Match = "\2"
Replace = "\2"

Name = "Skip:  Useless Code {R}"
Active = TRUE
URL = "$TYPE(htm)(^$LST(Bypass-Ads))"
Bounds = "<!--*-->"
Limit = 768
Match = "(<!--(^*:(^/))*-->)\1&(^$TST(script=*)|$TST(css=*))"
Replace = "\1"

Name = "Remove:  Page Markers {R}"
Active = TRUE
URL = "$TYPE(htm)"
Limit = 12
Match = "<Prox(HdrTop|Bottom)>"
Replace = "\r\n<!--// End Proxomitron Section -->\r\n$SET(ProxScript=)"

Name = "Re-Insert:  Pre-HTML Scripts {R}"
Active = TRUE
Multi = TRUE
URL = "$TYPE(htm)"
Limit = 2048
Match = "(^(^<))$TST(html=1)$SET(prehtm=)$STOP()"
        "|"
        "<!-- Prox: Pre-HTML Script Removed -->$TST(html=0)(^*<h(tml|ead))($TST(prehtm=*)|$TST(prejs=*))"
        "$SET(0=<html>\r\n<head>\r\n\r\n<!--// Below Injected by Proxomitron -->\r\n<ProxHdrTop>$GET(prejs)</head>\r\n<body>\r\n$GET(prehtm)\r\n</body>\r\n</html>)"
        "$STOP()"
Replace = "\0$SET(nohtml=1)"

Name = ">>>>>>>>>>>>>>>>>>>>>>> Site Specific Filters "
Active = FALSE
Limit = 256
Match = "<never>"

Name = "** READ! **"
Active = FALSE
Limit = 256
Match = "You can safely remove any of the following filters, if you "
        "don't visit the specific site."

Name = "============================= YAHOO GROUPS "
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Yahoo Groups:  After Post Redirector "
Active = TRUE
URL = "groups.yahoo.com/group/*/post"
Bounds = "<a\s*</a>"
Limit = 500
Match = "*Continue*&$URL(http://groups.yahoo.com/group/\1/post*)"
Replace = "$STOP()"
          "<center><a href="http://groups.yahoo.com/group/\1/messages">You will be redirected to the message index in 4 seconds...</a></center>"
          "<script>"
          "setTimeout("window.location.href='http://groups.yahoo.com/group/\1/messages'", 4000);"
          "</script>"
          "\k"

Name = "---------------- OPTION #1 - MY SET"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Yahoo Groups:  Remove Top Ad-Links "
Active = TRUE
URL = "groups.yahoo.com/"
Limit = 4096
Match = "$NEST(<hr size=$AV(1),*,<font size=$AV(-1)>)"
Replace = "<hr size=1>"
          "</td>"
          "</tr>"
          "</table>"
          "<font size="-1">"

Name = "Yahoo Groups:  Remove Left Ad-Space Table "
Active = TRUE
URL = "groups.yahoo.com/"
Limit = 1536
Match = "<td rowspan=6 width="1%" align=center >*<font face="arial,helvetica" size=-1>"
Replace = "<td rowspan=6 width="1%" align=center ><table cellpadding=1 cellspacing=1 border=0 width="100%" bgcolor="6996E0" >"
          "<tr><td>"
          "      	<table cellpadding=1 cellspacing=0 border=0 width="100%"  bgcolor="FFFFFF"  >"
          "        	                   <tr>"
          "              <td>&nbsp;</td>       <td nowrap valign="middle" align="left" >"
          "<font face="arial,helvetica" size=-1>"

Name = "Yahoo Groups:  Remove Advertisement on Right"
Active = TRUE
URL = "groups.yahoo.com/group/[^/]++/message/"
Limit = 6000
Match = "<table align=right cellpadding=10>*(<!DOCTYP*">|<IncrdiXMLRemarkEnd-->|<tt>)"
Replace = "<table align=right cellpadding=0></td></tr></table>"

Name = "============================= GOOGLE "
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Kill Google Sponsored Links - Top"
Active = TRUE
URL = "[^.]+.google.*/"
Limit = 2048
Match = "(<br>|)<table cellpadding=3 cellspacing=0 border=0 height=40 width=100%>*</td></tr>(</table>|)"

Name = "Kill Google Sponsored Links - Side"
Active = TRUE
URL = "[^.]+.google.*/"
Limit = 12000
Match = "<table border=0 cellpadding=0 cellspacing=4 align=right width=20%>"
        "*"
        "</a></font></td></tr></table>"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Google:  Insert Link Style"
Active = TRUE
URL = "(www|groups).google.*/"
Limit = 12
Match = "(^(^<head>))$STOP()"
Replace = "<style>"
          "A.google:link "
          "	{"
          "  	color: #008000; "
          "	background-color: transparent;"
          "	font-size: smaller;"
          "	}"
          "	"
          "A.google:hover "
          "	{"
          "	text-decoration : underline; "
          "	}"
          "	"
          "A.google:visited "
          "	{"
          "	text-decoration : line-through;  "
          "	color: #008000;"
          "	background-color: transparent;	"
          "	}"
          "</style>"

Name = "Google:  Multi URL Untangler"
Active = TRUE
Multi = TRUE
URL = "[^/]++.google."
Bounds = "<a\s*>"
Limit = 512
Match = "<a(*href=)\1$AV(/url\?*=((http|ftp)(s|)://)\2(\3(\&|%26)[a-z](=|%3D)[#1:*]|\3))\4"
Replace = "<a id="prxPref"\1"\2$UESC(\3)"\4"

Name = "Google:  Insert New Window Link"
Active = TRUE
URL = "www.google.*/search & $TYPE(htm)"
Bounds = "<a\s*</a>"
Limit = 750
Match = "<a((\shref=($AV(http://(^(\h|(www|directory).google.*))*\4)))\1) \2>\3"
Replace = "<a\1 \2 >\3&nbsp;<a target="_blank" class="google" \1 title="\4">[new window]</a>"

Name = "Google:  Cached Header Remover"
Active = TRUE
URL = "216.239.*.*/search?q=cache:*/&$TYPE(htm)"
Limit = 2048
Match = "<BASE HREF=$AV(\0)>?++<hr>"
Replace = "<BASE HREF=\0>\r\n"

Name = "Google:  Highlight Valid Dictionary Lookup"
Active = TRUE
URL = "(images|www).google.*/&$TYPE(htm)"
Limit = 64
Match = "<font color=#ffffff>\1</font>"
Replace = "<font color=#ffff66>\1</font>"

Name = "Google:  Open Cached Page in New Window"
Active = TRUE
URL = "(images|www).google.*/search"
Bounds = "<a\s*>Cached</a>"
Limit = 256
Match = "\0 class=f (*)\2>Cached</a>"
Replace = "\0 \2 target="_blank">[Cached]</a>"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Google Image:  Image Size Selector"
Active = TRUE
URL = "images.google.*/"
Bounds = "$NEST(<td\s,</td>)"
Limit = 512
Match = "<td\2>\3<b>(\&nbsp;|)Images(\&nbsp;|)</b>\4"
        "&"
        "$URL(http://images.google.*/images*q=\0\&(*(?safe=(off|images|active))\1|)*|http://images.google.*/images(*(?safe=(off|images|active))\1|)*q=\0)"
Replace = "<td\2>\3<b>Images</b>\4"
          "\r\n"
          "\r\n"
          "<!-- Begin Image Size Selector -->"
          "\r\n"
          "\r\n"
          "<td>"
          "<FORM name="GISform">"
          "<SELECT name="GISlinks" onChange="window.location=document.GISform.GISlinks.options[document.GISform.GISlinks.selectedIndex].value">"
          "<OPTION SELECTED value="images\q">Return images that are.."
          "<OPTION value="javascript:void(location.href='http://images.google.com/images?q=\0\1&imgsz=')">any size</option>"
          "<OPTION value="javascript:void(location.href='http://images.google.com/images?q=\0&imgsz=icon\1')">icon-sized</option>"
          "<OPTION value="javascript:void(location.href='http://images.google.com/images?q=\0&imgsz=small\1')">small</option>"
          "<OPTION value="javascript:void(location.href='http://images.google.com/images?q=\0&imgsz=medium\1')">medium</option>"
          "<OPTION value="javascript:void(location.href='http://images.google.com/images?q=\0&imgsz=large\1')">large</option>"
          "<OPTION value="javascript:void(location.href='http://images.google.com/images?q=\0&imgsz=xlarge\1')">very large</option>"
          "<OPTION value="javascript:void(location.href='http://images.google.com/images?q=\0&imgsz=xxlarge\1')">wallpaper-sized</option>"
          "</SELECT>"
          "</td>"
          "\r\n"
          "\r\n"
          "<!-- End Image Size Selector -->"
          "\r\n"
          "\r\n"
          "$STOP()"

Name = "Google Image:  SafeSearch - Toggler"
Active = TRUE
URL = "images.google.*/&$TYPE(htm)"
Bounds = "<a\s*</a>"
Limit = 128
Match = "*(preferences?q=\1sa=F$SET(0=<a href=/images?q=\1safe=off>Moderate SafeSearch is on</a>)"
        "|"
        "href=/preferences?q=\1safe=off$SET(0=<a href=/images?q=\1safe=images>SafeSearch is off</a>))"
        "*"
Replace = "\0$STOP()  "

Name = "Google Image:  Disable Tracking Links"
Active = TRUE
URL = "images.google.*/"
Bounds = "$NEST(<td align=center valign=bottom width=250>, </td>)"
Limit = 2048
Match = "*"
        "<a href=/imgres\?imgurl=\0\&imgrefurl=\#\&*>\1</a>"
        "<br> "
        "\4"
        "<br> "
        "\5"
        "<br>"
        "<font color=#008000>\2</font> "
        "((<br> \[ <a [^>]++ href=\6>*\]*</td>) $SET(9=\[ <a style="font-size: 12px;" href="\6">More..</a> \]</td>)"
        " | "
        " *</td> $SET(9=</td>))"
Replace = "<td align=center valign=bottom width=250>"
          "<a target="_blank" href=http://$UESC(\0)>\1</a>"
          "<br>"
          "\4"
          "<br>"
          "\5</font>"
          "<br>"
          "<a style="font-size: 12px; color:#008000" href="\@" target="_blank">\2</a>"
          "<br>"
          "\9"

Name = "============================= GOOGLE GROUPS"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Kill:  Google Groups Sponsored Links - Top"
Active = TRUE
URL = "(groups|www).google.*/"
Limit = 5000
Match = "(<table bgcolor=#ffffff border=0 cellpadding=0 cellspacing=4 width=1%><tr>"
        "|"
        "<table cellSpacing=0 cellPadding=2 width="100%" border=0 bgcolor=$AV(*)><tr>)"
        "*"
        "(</tr></table><br>"
        "|"
        "</font></td></tr></table>)"
Replace = "$STOP()"

Name = "Kill:  Google Groups Sponsored Links - Side Pt.1"
Active = TRUE
URL = "groups.google.*/"
Bounds = "$NEST(<td,</td>)"
Limit = 512
Match = "\0 width="20%" nowrap \1"
Replace = "\0 width=30% nowrap \1"
          "$STOP()"

Name = "Kill:  Google Groups Sponsored Links - Side Pt.2"
Active = TRUE
URL = "groups.google.*/"
Bounds = "$NEST(<td,</td>)"
Limit = 512
Match = "\0 width=50% \1"
Replace = "\0 width=70% \1"
          "$STOP()"

Name = "Kill:  Google Groups Sponsored Links - Side Pt.3"
Active = TRUE
URL = "groups.google.*/"
Bounds = "$NEST(<table,</table>)"
Limit = 8000
Match = "<table bgcolor=#ffffff border=0 cellpadding=0 cellspacing=4 width=20%><tr>"
        "*"
        ""
        "</font></td></tr></table></td></tr></table></td></tr></table>"
Replace = "$STOP()"

Name = "---------->>"
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "Google Groups : Wrap Lines"
Active = TRUE
Multi = TRUE
URL = "groups.google.*/groups"
Bounds = "<pre * </pre(_un|)>"
Limit = 5000
Match = "(<pre> \1 </pre>) |"
        "(<PRE_UN>\1\n\3</PRE_UN> $SET(2=<br>))"
Replace = "\n<PRE_UN>\1\2\3</PRE_UN>"

Name = "============================= MISC."
Active = FALSE
URL = "(^*)"
Limit = 256
Match = "<never>"

Name = "CNN:  Remove Text Links"
Active = TRUE
URL = "[^/]++.cnn.com/ & $TYPE(htm)"
Bounds = "$NEST(<table,</table>)"
Limit = 4096
Match = "*<!--*150x10*-->*"

Name = "CNN:  Widen Content Area"
Active = TRUE
URL = "[^/]++.cnn.com/ & $TYPE(htm)"
Limit = 11
Match = "width=$AV([#440:470])"
Replace = "width="600""

Name = "ESPN:  Kill Ad Scripts"
Active = TRUE
URL = "([^.]+.|)espn.go.com/ & $TYPE(htm)"
Bounds = "$NEST(<script,</script>)"
Limit = 8200
Match = "*(http://|://)ad(images|satt|)\8.*"
Replace = "<span class="Prox" id="p-js" style="display:none; text-align: center !important;">"
          "\&bull; ESPN Ad Script <br />"
          "</span>"
          "\r\n"

Name = "ESPN:  Kill MSN Content"
Active = TRUE
URL = "([^.]+.|)espn.go.com/ & $TYPE(htm)"
Bounds = "<!--( |-)("|BEGIN |)MSN (Header|Footer|SideBar|module)*MSN (Header|Footer|SideBar|module)* -->"
Limit = 10000
Match = "*"
Replace = "<!-- MSN stuff removed -->"

Name = "IGN: Movie Pop-Up to Link"
Active = TRUE
URL = "mediaviewer.ign.com/ & $TYPE(htm)"
Limit = 512
Match = "$NEST(<script,*function showmovie*window.open\("/play.asx\?files=http*(;http*|)http%40%2F\1[&]*"\)*,</script>)$SET(url=$UESC(\1))"
        "|"
        "<DIV CLASS=mvcaption>\2</DIV>&$TST(url=*)"
        "$SET(3=<DIV CLASS=mvcaption>\2</DIV><br><a href="http://$GET(url)"><font size="+2">View now!</font></a><br><font size="-2">Brought to you by: Proxomitron</font><br>)"
        "$STOP()"
Replace = "\3"

Name = "MSNBC:  Quick Ad Redirector"
Active = TRUE
URL = "www.msnbc.com/ads/trans/ & $TYPE(htm)"
Bounds = "<meta*>"
Limit = 256
Match = "* HTTP-EQUIV=REFRESH CONTENT="7; URL=\0" *"
Replace = "<script>document.location.href="\0";</script>\k"

Name = "PC World:  Story Cleaner"
Active = TRUE
URL = "(www.|)pcworld.com/ & $TYPE(htm)"
Limit = 2048
Match = "$NEST(<table width="344" border="0" cellspacing="0" cellpadding="0" align="right">,*,</table>)"
Replace = "<!-- Story Cleaned -->"

Name = "Tripod: Remove Pre-Frame Scripts"
Active = TRUE
URL = "[^.]+.tripod.com/ & $TYPE(htm)"
Bounds = "</head>*<frameset"
Limit = 4096
Match = "(\#$NEST(<script,</script>))+\#"
Replace = "\@$STOP()"

Name = "Washington Post:  Fix Navigation Bar "
Active = TRUE
Multi = TRUE
URL = "www.washingtonpost.com/[^/]+/articles/ & $TYPE(htm)"
Bounds = "if $NEST(\(,\))"
Limit = 64
Match = "* adTemplate *"
Replace = "if(false)"

Name = "Y! MAIL:  Ad Scripts"
Active = TRUE
URL = "([^/]++|)mail.yahoo.com/ & $TYPE(htm)"
Bounds = "$NEST(<script,</script>)"
Limit = 8200
Match = "*(flashfile|468x60)*"
Replace = "<span class="Prox" id="p-js" style="display:none; text-align: center !important;">"
          "\&bull; Yahoo Ad Script <br />"
          "</span>"
          "\r\n"

Name = "Deal Time:  Ad Form Remover"
Active = TRUE
URL = "$TYPE(htm)(www.internetnews.com/|htmlgoodies.com/)"
Limit = 4096
Match = "<SCRIPT LANGUAGE="javascript"> function SetFormAction3*"
        "<IMG SRC="http://*_RM_EMPTY_" WIDTH=1 HEIGHT=1 BORDER=0>"
Replace = "<!-- green block removed -->$STOP()"

Name = ">>>>>>>>>>>>>>>>>>>>>>> End Filters "
Active = FALSE
Limit = 256
Match = "<never>"


[Proxies]
 OpenLog = TRUE
 Count = 1

>127.0.0.1:4001

